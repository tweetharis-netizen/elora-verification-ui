"use strict";exports.id=1690,exports.ids=[1690],exports.modules={1690:(e,r,t)=>{function json(e,r,t){e.statusCode=r,e.setHeader("Content-Type","application/json"),e.end(JSON.stringify(t))}async function handler(e,r){if("POST"!==e.method)return json(r,405,{ok:!1,error:"method_not_allowed"});let t=(process.env.NEXT_PUBLIC_ELORA_BACKEND_URL||"").replace(/\/$/,"");if(!t)return json(r,500,{ok:!1,error:"missing_backend_url"});let n=String(e.body?.email||"").trim();if(!n)return json(r,400,{ok:!1,error:"missing_email"});try{let e=await fetch(`${t}/api/verification/send`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})}),o=await e.json().catch(()=>null);if(!e.ok||!o?.ok)return json(r,e.status||400,{ok:!1,error:o?.error||"send_failed",retryAfter:o?.retryAfter??null});return json(r,200,o)}catch{return json(r,502,{ok:!1,error:"backend_unreachable"})}}t.r(r),t.d(r,{default:()=>handler})}};