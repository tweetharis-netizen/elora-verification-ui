exports.id=9597,exports.ids=[9597],exports.modules={1242:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>Navigation});var s=r(997),n=r(6689),i=r(1664),o=r.n(i),l=r(1163),c=r(6197),d=r(7290),u=r(5885),h=e([c,d,u]);function Navigation(){let e=(0,l.useRouter)(),{session:t,user:r}=(0,d.q)(),[a,i]=(0,n.useState)(!1),[h,m]=(0,n.useState)(!1),g=[{name:"Dashboard",href:"/dashboard",icon:DashboardIcon},{name:"Assistant",href:"/assistant",icon:AssistantIcon},{name:"Classes",href:"/classes",icon:ClassesIcon},{name:"Assignments",href:"/assignments",icon:AssignmentsIcon},{name:"Analytics",href:"/analytics",icon:AnalyticsIcon}],isActive=t=>e.pathname.startsWith(t);return s.jsx(s.Fragment,{children:(0,s.jsxs)("nav",{className:"sticky top-0 z-50 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-xl border-b border-neutral-200 dark:border-neutral-800",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,s.jsxs)(o(),{href:"/dashboard",className:"flex items-center gap-3 group",children:[s.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center shadow-lg shadow-primary-500/25 group-hover:shadow-primary-500/40 transition-shadow",children:s.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),s.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-neutral-900 to-neutral-600 dark:from-white dark:to-neutral-300 bg-clip-text text-transparent",children:"Elora"})]}),s.jsx("div",{className:"hidden md:flex items-center gap-1",children:g.map(e=>{let t=e.icon,r=isActive(e.href);return(0,s.jsxs)(o(),{href:e.href,className:`relative px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r?"text-primary-600 dark:text-primary-400":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-100"}`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(t,{className:"w-4 h-4"}),s.jsx("span",{children:e.name})]}),r&&s.jsx(c.motion.div,{layoutId:"activeTab",className:"absolute inset-0 bg-primary-50 dark:bg-primary-900/20 rounded-lg -z-10",transition:{type:"spring",bounce:.2,duration:.6}})]},e.name)})}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx(u.Z,{}),s.jsx("button",{className:"hidden md:flex items-center justify-center w-9 h-9 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",children:s.jsx("svg",{className:"w-5 h-5 text-neutral-600 dark:text-neutral-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{onClick:()=>m(!h),className:"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary-400 to-secondary-400 flex items-center justify-center text-white font-semibold text-sm",children:t?.name?.charAt(0)||"U"}),(0,s.jsxs)("div",{className:"hidden lg:block text-left",children:[s.jsx("div",{className:"text-sm font-medium text-neutral-900 dark:text-white",children:t?.name||"User"}),s.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 capitalize",children:t?.role||"Student"})]}),s.jsx("svg",{className:`w-4 h-4 text-neutral-400 transition-transform ${h?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsx(c.AnimatePresence,{children:h&&(0,s.jsxs)(c.motion.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute right-0 mt-2 w-56 bg-white dark:bg-neutral-800 rounded-xl shadow-xl border border-neutral-200 dark:border-neutral-700 py-2 z-50",children:[(0,s.jsxs)(o(),{href:"/settings",className:"flex items-center gap-3 px-4 py-2 text-sm text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700",children:[(0,s.jsxs)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Settings"]}),(0,s.jsxs)(o(),{href:"/help",className:"flex items-center gap-3 px-4 py-2 text-sm text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Help"]}),s.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 my-2"}),(0,s.jsxs)("button",{className:"flex items-center gap-3 px-4 py-2 text-sm text-error hover:bg-red-50 dark:hover:bg-red-900/20 w-full",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})]})})]}),s.jsx("button",{onClick:()=>i(!a),className:"md:hidden flex items-center justify-center w-9 h-9 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",children:s.jsx("svg",{className:"w-5 h-5 text-neutral-600 dark:text-neutral-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a?s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]})}),s.jsx(c.AnimatePresence,{children:a&&s.jsx(c.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t border-neutral-200 dark:border-neutral-800",children:s.jsx("div",{className:"px-4 py-4 space-y-1",children:g.map(e=>{let t=e.icon,r=isActive(e.href);return(0,s.jsxs)(o(),{href:e.href,onClick:()=>i(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${r?"bg-primary-50 dark:bg-primary-900/20 text-primary-600 dark:text-primary-400":"text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800"}`,children:[s.jsx(t,{className:"w-5 h-5"}),s.jsx("span",{children:e.name})]},e.name)})})})})]})})}function DashboardIcon({className:e}){return s.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}function ClassesIcon({className:e}){return s.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}function AssignmentsIcon({className:e}){return s.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}function AnalyticsIcon({className:e}){return s.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}function AssistantIcon({className:e}){return s.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}[c,d,u]=h.then?(await h)():h,a()}catch(e){a(e)}})},5885:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>ThemeToggle});var s=r(997),n=r(6689),i=r(6197),o=e([i]);function ThemeToggle(){let[e,t]=(0,n.useState)("light"),[r,a]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{a(!0);let e=localStorage.getItem("elora-theme"),r=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",s=e||r;t(s),document.documentElement.classList.toggle("dark","dark"===s)},[]),r)?s.jsx(i.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{let r="light"===e?"dark":"light";t(r),localStorage.setItem("elora-theme",r),document.documentElement.classList.toggle("dark","dark"===r)},className:"relative w-14 h-7 rounded-full bg-gray-200 dark:bg-gray-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2","aria-label":`Switch to ${"light"===e?"dark":"light"} mode`,children:s.jsx(i.motion.div,{className:"absolute top-0.5 left-0.5 w-6 h-6 rounded-full bg-white dark:bg-gray-900 shadow-md flex items-center justify-center",animate:{x:"dark"===e?28:0},transition:{type:"spring",stiffness:500,damping:30},children:"light"===e?s.jsx("svg",{className:"w-4 h-4 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})}):s.jsx("svg",{className:"w-4 h-4 text-indigo-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})})})}):s.jsx("div",{className:"w-14 h-7"})}i=(o.then?(await o)():o)[0],a()}catch(e){a(e)}})},2853:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Hj:()=>ErrorFallback});var s=r(997),n=r(6197),i=e([n]);function ErrorFallback({error:e,resetErrorBoundary:t}){let r=function(e){let t={NetworkError:{title:"Connection Issue",message:"Unable to connect to the server. Please check your internet connection.",recovery:["Check your internet connection","Try refreshing the page","Try again in a moment"]},"fetch failed":{title:"Connection Issue",message:"Unable to reach the server. Please check your internet connection.",recovery:["Check your internet connection","Try refreshing the page"]},"auth/user-not-found":{title:"Account Not Found",message:"We couldn't find an account with that email.",recovery:["Check your email address","Create a new account"]},"auth/wrong-password":{title:"Incorrect Password",message:"The password you entered is incorrect.",recovery:["Try again","Reset your password"]},"auth/email-already-in-use":{title:"Email Already Registered",message:"An account with this email already exists.",recovery:["Sign in instead","Use a different email","Reset password if you forgot it"]},"permission-denied":{title:"Permission Denied",message:"You don't have permission to perform this action.",recovery:["Make sure you're signed in","Contact your teacher or administrator"]},"not-found":{title:"Not Found",message:"The requested item could not be found.",recovery:["Check if the item still exists","Try refreshing the page"]},"invalid-email":{title:"Invalid Email",message:"Please enter a valid email address.",recovery:["Check your email format"]},"required-field":{title:"Required Field",message:"Please fill in all required fields.",recovery:["Fill in the missing information"]},default:{title:"Something Went Wrong",message:"An unexpected error occurred. Please try again.",recovery:["Try again","Refresh the page","Contact support if the problem persists"]}},r="string"==typeof e?e:e?.message||e?.code||"default";for(let[e,a]of Object.entries(t))if(r.includes(e)||e===r)return a;return t.default}(e);return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-red-50 to-orange-50 dark:from-neutral-900 dark:to-neutral-800 p-6",children:(0,s.jsxs)("div",{className:"max-w-lg w-full bg-white dark:bg-neutral-800 rounded-2xl shadow-xl p-8 space-y-6",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center mx-auto",children:s.jsx("svg",{className:"w-10 h-10 text-red-600 dark:text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-text-primary mb-2",children:r.title}),s.jsx("p",{className:"text-text-secondary mb-6",children:r.message}),r.recovery&&(0,s.jsxs)("div",{className:"bg-neutral-50 dark:bg-neutral-700/50 rounded-lg p-4 mb-6 text-left",children:[s.jsx("h4",{className:"font-semibold text-sm text-text-secondary mb-2",children:"What you can do:"}),s.jsx("ul",{className:"space-y-1 text-sm text-text-secondary",children:r.recovery.map((e,t)=>(0,s.jsxs)("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-primary-600 dark:text-primary-400 mt-0.5",children:"•"}),s.jsx("span",{children:e})]},t))})]})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:t,className:"btn btn-primary flex-1",children:"Try Again"}),s.jsx("button",{onClick:()=>window.location.href="/",className:"btn btn-outline flex-1",children:"Go Home"})]}),!1]})})}n=(i.then?(await i)():i)[0],a()}catch(e){a(e)}})},7290:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{q:()=>useApp,w:()=>AppProvider});var s=r(997),n=r(6689),i=r(401),o=r(2497),l=r(3833),c=e([i,o]);[i,o]=c.then?(await c)():c;let d=(0,n.createContext)(null);function AppProvider({children:e}){let[t,r]=(0,n.useState)(null),[a,c]=(0,n.useState)(null),[u,h]=(0,n.useState)(!0),[m,g]=(0,n.useState)([]);(0,n.useEffect)(()=>{let e=(0,l.Gg)();r(e);let t=(0,i.onAuthStateChanged)(o.I8,e=>{c(e),h(!1)}),handleStorageChange=()=>{let e=(0,l.Gg)();r(e)};return window.addEventListener("elora:session",handleStorageChange),()=>{t(),window.removeEventListener("elora:session",handleStorageChange)}},[]);let f=(0,n.useCallback)(e=>{let a={...t,...e};(0,l.Aj)(a),r(a)},[t]),x=(0,n.useCallback)(e=>{let t=Date.now().toString();return g(r=>[...r,{id:t,...e}]),setTimeout(()=>{p(t)},5e3),t},[]),p=(0,n.useCallback)(e=>{g(t=>t.filter(t=>t.id!==e))},[]);return u?s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 dark:from-neutral-900 dark:to-neutral-800",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-primary-600 mx-auto mb-4"}),s.jsx("p",{className:"text-text-secondary text-lg",children:"Loading Elora..."})]})}):s.jsx(d.Provider,{value:{session:t,user:a,loading:u,updateSession:f,notifications:m,addNotification:x,removeNotification:p},children:e})}function useApp(){let e=(0,n.useContext)(d);if(!e)throw Error("useApp must be used within AppProvider");return e}a()}catch(e){a(e)}})},1776:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{J:()=>NotificationProvider,z:()=>useNotifications});var s=r(997),n=r(6689),i=r(6201),o=e([i]);i=(o.then?(await o)():o)[0];let l=(0,n.createContext)(null);function NotificationProvider({children:e}){return(0,s.jsxs)(l.Provider,{value:{success:(e,t={})=>i.default.success(e,{duration:4e3,style:{background:"var(--color-secondary-600)",color:"#ffffff",borderRadius:"var(--radius-lg)",padding:"var(--spacing-2) var(--spacing-3)",fontSize:"var(--text-base)"},iconTheme:{primary:"#ffffff",secondary:"var(--color-secondary-600)"},...t}),error:(e,t={})=>i.default.error(e,{duration:5e3,style:{background:"var(--color-error)",color:"#ffffff",borderRadius:"var(--radius-lg)",padding:"var(--spacing-2) var(--spacing-3)",fontSize:"var(--text-base)"},...t}),info:(e,t={})=>(0,i.default)(e,{duration:4e3,icon:"ℹ️",style:{background:"var(--color-info)",color:"#ffffff",borderRadius:"var(--radius-lg)",padding:"var(--spacing-2) var(--spacing-3)",fontSize:"var(--text-base)"},...t}),warning:(e,t={})=>(0,i.default)(e,{duration:4500,icon:"⚠️",style:{background:"var(--color-warning)",color:"#ffffff",borderRadius:"var(--radius-lg)",padding:"var(--spacing-2) var(--spacing-3)",fontSize:"var(--text-base)"},...t}),loading:e=>i.default.loading(e,{style:{background:"var(--bg-primary)",color:"var(--text-primary)",borderRadius:"var(--radius-lg)",padding:"var(--spacing-2) var(--spacing-3)",fontSize:"var(--text-base)",border:"1px solid var(--border-primary)"}}),promise:(e,t)=>i.default.promise(e,{loading:t.loading||"Loading...",success:t.success||"Success!",error:t.error||"Error occurred"},{style:{borderRadius:"var(--radius-lg)",padding:"var(--spacing-2) var(--spacing-3)",fontSize:"var(--text-base)"}}),dismiss:e=>{i.default.dismiss(e)},custom:(e,t={})=>i.default.custom(e,t)},children:[s.jsx(i.Toaster,{position:"top-right",reverseOrder:!1,gutter:8,toastOptions:{className:"animate-slide-down",style:{maxWidth:"500px"}}}),e]})}function useNotifications(){let e=(0,n.useContext)(l);if(!e)throw Error("useNotifications must be used within NotificationProvider");return e}a()}catch(e){a(e)}})},2497:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{let c;r.d(t,{I8:()=>m,db:()=>g});var s=r(3745),n=r(401),i=r(1492),o=r(3392),l=e([s,n,i,o]);[s,n,i,o]=l.then?(await l)():l;let d={apiKey:process.env.NEXT_PUBLIC_FIREBASE_API_KEY||"preview-key",authDomain:process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN||"preview.firebaseapp.com",projectId:process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID||"preview-project",storageBucket:process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET||"preview.appspot.com",messagingSenderId:process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID||"123456",appId:process.env.NEXT_PUBLIC_FIREBASE_APP_ID||"1:123456:web:abc123"};if((0,s.getApps)().length)c=(0,s.getApp)();else try{c=(0,s.initializeApp)(d)}catch(e){console.warn("Firebase init failed",e)}let u=!process.env.NEXT_PUBLIC_FIREBASE_API_KEY||"mock-api-key-for-ui-preview"===process.env.NEXT_PUBLIC_FIREBASE_API_KEY||"preview-key"===process.env.NEXT_PUBLIC_FIREBASE_API_KEY,h={onAuthStateChanged:e=>(setTimeout(()=>e(null),0),()=>{}),onIdTokenChanged:()=>()=>{},signOut:async()=>{}},m=u?h:(()=>{try{return c?(0,n.getAuth)(c):h}catch(e){return h}})(),g=u?null:(()=>{try{return c?(0,i.getFirestore)(c):null}catch(e){return null}})();u||(()=>{try{return c?(0,o.getStorage)(c):null}catch(e){return null}})(),a()}catch(e){a(e)}})},3833:(e,t,r)=>{"use strict";r.d(t,{Aj:()=>saveSession,Dc:()=>setTheme,Gg:()=>getSession,Hk:()=>hasSession,IR:()=>isTeacher,P3:()=>clearTeacher,S0:()=>refreshVerifiedFromServer,WN:()=>setGuest,e6:()=>activateTeacher,gD:()=>setRole,k4:()=>setFontScale,kS:()=>logout,rE:()=>setTeacherCode});let a={verified:!1,email:"",teacher:!1,hasSession:!1,guest:!1,role:"student",theme:"system",fontScale:1,country:"Singapore",level:"Primary 1",subject:"math",topicMode:"fixed",topicFixed:"Fractions",topicCustom:"",task:"tutor",style:"clear",messages:[],teacherCode:"",usage:{messagesSent:0,activeMinutes:0,streak:0,lastActive:null,subjects:[]},studentCode:null,linkedStudentId:null,linkedStudents:[],classroom:{name:"My Classroom",totalEngagement:0,classes:[],assignments:[],submissions:[],teacherRules:"",resources:[],quizzes:[]},joinedClasses:[]};function getSession(){return{...a}}function saveSession(e){}function hasSession(){let e=getSession();return!!(e?.hasSession||e?.verified||e?.teacher)}function setRole(e){let t=getSession();t.role=String(e||"student")}function setGuest(e=!0){let t=getSession();t.guest=!!e,t.guest&&(!t.role||"educator"===t.role)&&(t.role="student")}function setTheme(e){let t=getSession();t.theme=String(e||"system")}function setFontScale(e){let t=Math.max(.85,Math.min(1.4,Number(e)||1)),r=getSession();r.fontScale=t}function setTeacher(e){let t=getSession();t.teacher=!!e,t.hasSession=!!(t.hasSession||t.teacher||t.verified)}function setTeacherCode(e){let t=getSession();t.teacherCode=String(e||"")}function isTeacher(){return!!getSession().teacher}async function refreshVerifiedFromServer(){try{let e=await fetch("/api/session/status",{cache:"no-store"}),t=await e.json().catch(()=>null),r=!!t?.verified,a=String(t?.email||""),s=!!t?.teacher,n=!!(t?.hasSession||r||s),i=getSession();return i.verified=r,i.email=a,i.teacher=s,i.hasSession=n,{verified:r,email:a,teacher:s,hasSession:n}}catch{return{verified:!1,email:"",teacher:!1,hasSession:!1}}}async function activateTeacher(e){let t=String(e||"").split(",").map(e=>e.trim()).filter(Boolean);if(!t.length)return{ok:!1,error:"missing_code"};for(let e of t)try{let t=await fetch("/api/teacher/activate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e})}),r=await t.json().catch(()=>null);if(t.ok&&r?.ok)return setTeacher(!0),setTeacherCode(e),{ok:!0}}catch{}return{ok:!1,error:"invalid_invite"}}async function clearTeacher(){try{await fetch("/api/teacher/clear",{method:"POST"})}catch{}setTeacher(!1),setTeacherCode("")}async function logout(){try{await fetch("/api/session/clear",{method:"POST"})}catch{}try{await fetch("/api/teacher/clear",{method:"POST"})}catch{}(function(){let e=getSession();(function(e="system"){"undefined"!=typeof document&&(document.documentElement.dataset.theme=e)})(e.theme),function(e=1){if("undefined"==typeof document)return;let t=Math.max(.85,Math.min(1.4,Number(e)||1));document.documentElement.style.setProperty("--elora-font-scale",String(t))}(e.fontScale)})(),function(e=!0){}(!0)}},9597:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var s=r(997);r(6764);var n=r(968),i=r.n(n),o=r(1163),l=r(7290),c=r(1776),d=r(5184),u=r(2853),h=r(1242),m=e([l,c,u,h]);[l,c,u,h]=m.then?(await m)():m;let __WEBPACK_DEFAULT_EXPORT__=function({Component:e,pageProps:t}){let r=(0,o.useRouter)(),a="/"===r.pathname,n=!a&&"/demo"!==r.pathname;return(0,s.jsxs)(s.Fragment,{children:[s.jsx(i(),{children:s.jsx("script",{dangerouslySetInnerHTML:{__html:`
              (function() {
                const theme = localStorage.getItem('elora-theme') || 
                  (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
                document.documentElement.classList.toggle('dark', theme === 'dark');
              })();
            `}})}),s.jsx(d.ErrorBoundary,{FallbackComponent:u.Hj,onReset:()=>window.location.reload(),children:s.jsx(c.J,{children:(0,s.jsxs)(l.w,{children:[n&&s.jsx(h.Z,{}),s.jsx("div",{className:n?"pt-16":"",children:s.jsx(e,{...t})})]})})})]})};a()}catch(e){a(e)}})},6764:()=>{}};