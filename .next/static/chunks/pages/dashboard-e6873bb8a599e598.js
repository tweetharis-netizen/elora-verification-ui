(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{1015:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return a(3751)}])},8400:function(e,t,a){"use strict";a.d(t,{$K:function(){return getRecommendations},cK:function(){return getRecommendationReason}});let s={math:[{id:"v1",title:"Algebra Basics: What Is Algebra?",channel:"Math Antics",url:"https://www.youtube.com/watch?v=NybHckSEQBI",thumbnail:"https://img.youtube.com/vi/NybHckSEQBI/mqdefault.jpg",topics:["Math","Algebra","Equations","Variables"],description:"A great introduction to the fundamentals of algebraic thinking.",views:"12M",likes:"450K"},{id:"v2",title:"Introduction to equations",channel:"Khan Academy",url:"https://www.youtube.com/watch?v=vDqOoI-4Z6M",thumbnail:"https://img.youtube.com/vi/vDqOoI-4Z6M/mqdefault.jpg",topics:["Math","Equations","Linear Equations"],description:"Learn how to represent balanced relationships using math.",views:"8.5M",likes:"320K"},{id:"v_frac",title:"Introduction to Fractions",channel:"Math Antics",url:"https://www.youtube.com/watch?v=CA9XLJpQp3c",thumbnail:"https://img.youtube.com/vi/CA9XLJpQp3c/mqdefault.jpg",topics:["Math","Fractions","Numbers"],description:"What are fractions anyway? Learn the basics of numerator and denominator.",views:"15M",likes:"580K"},{id:"v_geom",title:"Intro to Geometry",channel:"Khan Academy",url:"https://www.youtube.com/watch?v=f-SUE_T0vEY",thumbnail:"https://img.youtube.com/vi/f-SUE_T0vEY/mqdefault.jpg",topics:["Math","Geometry","Shapes","Angles"],description:"Explore the language of points, lines, and planes.",views:"6.2M",likes:"210K"}],science:[{id:"v3",title:"Introduction to Cells: The Grand Cell Tour",channel:"Amoeba Sisters",url:"https://www.youtube.com/watch?v=8IlzKADrx8A",thumbnail:"https://img.youtube.com/vi/8IlzKADrx8A/mqdefault.jpg",topics:["Science","Biology","Cells","Organelles"],description:"Explore the microscopic world inside every living thing.",views:"22M",likes:"890K"},{id:"v4",title:"Newton's First Law of Motion",channel:"Crash Course",url:"https://www.youtube.com/watch?v=T1ux9D7-O38",thumbnail:"https://img.youtube.com/vi/T1ux9D7-O38/mqdefault.jpg",topics:["Science","Physics","Mechanics","Newton's Laws"],description:"Understand the concept of inertia and objects at rest.",views:"5.1M",likes:"180K"},{id:"v_periodic",title:"The Periodic Table: Atomic Radius",channel:"Crash Course",url:"https://www.youtube.com/watch?v=0RRVV4Diomg",thumbnail:"https://img.youtube.com/vi/0RRVV4Diomg/mqdefault.jpg",topics:["Science","Chemistry","Periodic Table"],description:"Navigate the most important chart in all of science.",views:"3.4M",likes:"125K"}],english:[{id:"v5",title:"8 Common Grammar Mistakes",channel:"Learn English with TV",url:"https://www.youtube.com/watch?v=Wp8u_fS-m7k",thumbnail:"https://img.youtube.com/vi/Wp8u_fS-m7k/mqdefault.jpg",topics:["English","Grammar","Writing","Punctuation"],description:"Avoid these common pitfalls to improve your writing instantly.",views:"9.2M",likes:"410K"},{id:"v_creative",title:"The Secret to Creative Writing",channel:"Ted-Ed",url:"https://www.youtube.com/watch?v=68K9IUnE-iI",thumbnail:"https://img.youtube.com/vi/68K9IUnE-iI/mqdefault.jpg",topics:["English","Writing","Storytelling"],description:"Learn how to build worlds and characters that feel alive.",views:"4.8M",likes:"250K"}]};function getRecommendations(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"math",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=String(e).toLowerCase(),r=s["physics"===a||"biology"===a?"science":a]||s.math;if(!t)return r.slice(0,2);let l=r.filter(e=>e.topics.some(e=>e.toLowerCase().includes(t.toLowerCase()))||e.title.toLowerCase().includes(t.toLowerCase()));return l.length>0?l:r.slice(0,2)}function getRecommendationReason(e,t){return e?"".concat(t," student").concat(t>1?"s are":" is"," currently struggling with ").concat(e,". These resources cover the core concepts."):"General enhancement for your current curriculum."}},3751:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return DashboardPage}});var s=a(5893),r=a(9008),l=a.n(r),i=a(7294),n=a(1163),o=a(3495),d=a(1526),c=a(3833);function DemoModeBanner(e){let{isDemo:t}=e;return t?(0,s.jsxs)("div",{className:"bg-gradient-to-r from-indigo-600 to-violet-600 text-white px-4 py-2 text-center text-xs font-bold uppercase tracking-widest shadow-lg relative z-50",children:[(0,s.jsx)("span",{children:"✨ Preview Mode: You are viewing demo data."}),(0,s.jsx)("a",{href:"/verify",className:"ml-4 underline hover:text-indigo-200 transition-colors",children:"Verify Account →"})]}):null}let ErrorBoundary=class ErrorBoundary extends i.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Dashboard Error Boundary Caught:",e,t),this.setState({errorInfo:t})}render(){return this.state.hasError?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-8 font-sans",children:(0,s.jsxs)("div",{className:"max-w-2xl w-full bg-white rounded-2xl shadow-xl p-10 border border-red-100",children:[(0,s.jsx)("h2",{className:"text-3xl font-black text-red-600 mb-4",children:"Dashboard Crash Detected"}),(0,s.jsx)("p",{className:"text-slate-600 mb-6 font-medium",children:"We caught an unexpected error in the dashboard."}),(0,s.jsxs)("div",{className:"bg-slate-900 rounded-xl p-6 overflow-auto max-h-96 mb-6",children:[(0,s.jsx)("code",{className:"text-red-300 font-mono text-xs block whitespace-pre-wrap",children:this.state.error&&this.state.error.toString()}),this.state.errorInfo&&(0,s.jsx)("code",{className:"text-slate-500 font-mono text-[10px] block whitespace-pre-wrap mt-4 border-t border-slate-700 pt-4",children:this.state.errorInfo.componentStack})]}),(0,s.jsx)("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white font-bold rounded-xl hover:bg-red-700 transition",children:"Reload Page"})]})}):this.props.children}constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}};let u=null;function NotificationProvider(e){let{children:t}=e,[a,r]=(0,i.useState)([]);(0,i.useEffect)(()=>{u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",a=Date.now();r(s=>[...s,{id:a,message:e,type:t}]),setTimeout(()=>{r(e=>e.filter(e=>e.id!==a))},4e3)}},[]);let l={success:"✓",error:"✕",warning:"⚠",info:"ℹ"},n={success:"from-emerald-500 to-teal-600",error:"from-rose-500 to-red-600",warning:"from-amber-500 to-orange-600",info:"from-indigo-500 to-violet-600"};return(0,s.jsxs)(s.Fragment,{children:[t,(0,s.jsx)("div",{className:"fixed bottom-6 right-6 z-[9999] space-y-3 pointer-events-none",children:a.map(e=>(0,s.jsxs)("div",{className:"pointer-events-auto transform transition-all duration-500 ease-in-out bg-gradient-to-r ".concat(n[e.type]," text-white px-6 py-4 rounded-2xl shadow-2xl min-w-[300px] max-w-md flex items-center gap-3 animate-in slide-in-from-right-10 fade-in"),children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center font-black text-lg",children:l[e.type]}),(0,s.jsx)("p",{className:"flex-1 font-bold text-sm",children:e.message})]},e.id))})]})}function notify(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";u&&u(e,t)}function SubmissionModal(e){let{assignment:t,isOpen:a,onClose:r,onSubmit:l}=e,[n,d]=(0,i.useState)(""),[c,u]=(0,i.useState)(null);return a&&t?(0,s.jsxs)("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4",children:[(0,s.jsx)(o.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-slate-950/80 backdrop-blur-md",onClick:r}),(0,s.jsxs)(o.E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"relative bg-white dark:bg-slate-900 w-full max-w-2xl rounded-[3rem] shadow-2xl border border-slate-200 dark:border-slate-800 overflow-hidden flex flex-col max-h-[85vh]",children:[(0,s.jsxs)("div",{className:"p-8 bg-gradient-to-r from-indigo-600 to-violet-600 text-white",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center text-2xl",children:"\uD83D\uDCDD"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-2xl font-black",children:"Submit Assignment"}),(0,s.jsx)("p",{className:"text-indigo-100 text-xs font-medium opacity-80 mt-1",children:t.title})]})]}),(0,s.jsx)("button",{onClick:r,className:"w-10 h-10 rounded-full hover:bg-white/10 flex items-center justify-center",children:"✕"})]}),(0,s.jsxs)("div",{className:"bg-white/10 rounded-xl p-3 text-xs",children:[(0,s.jsx)("span",{className:"font-bold",children:"Due:"})," ",t.dueDate," • ",(0,s.jsx)("span",{className:"font-bold",children:"Class:"})," ",t.classCode]})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto p-8 space-y-6",children:[t.description&&(0,s.jsxs)("div",{className:"bg-indigo-50 dark:bg-indigo-500/10 p-5 rounded-2xl border border-indigo-100 dark:border-indigo-500/20",children:[(0,s.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest text-indigo-600 dark:text-indigo-400 mb-2",children:"Instructions"}),(0,s.jsx)("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:t.description})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 block",children:"Your Response"}),(0,s.jsx)("textarea",{value:n,onChange:e=>d(e.target.value),placeholder:"Type your answer here...",className:"w-full h-48 bg-slate-50 dark:bg-slate-800 border-2 border-slate-200 dark:border-slate-700 rounded-2xl px-5 py-4 text-sm focus:border-indigo-500 outline-none transition-all resize-none"}),(0,s.jsxs)("p",{className:"text-xs text-slate-400 mt-2",children:[n.length," characters"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 block",children:"Attach File (Optional)"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"file",onChange:e=>{var t;return u(null===(t=e.target.files)||void 0===t?void 0:t[0])},className:"hidden",id:"file-upload"}),(0,s.jsx)("label",{htmlFor:"file-upload",className:"block w-full p-8 border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-2xl text-center cursor-pointer hover:border-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-500/5 transition-all",children:c?(0,s.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,s.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCCE"}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("p",{className:"font-bold text-sm text-slate-900 dark:text-white",children:c.name}),(0,s.jsxs)("p",{className:"text-xs text-slate-400",children:[(c.size/1024).toFixed(2)," KB"]})]}),(0,s.jsx)("button",{onClick:e=>{e.preventDefault(),u(null)},className:"ml-auto px-3 py-1 bg-red-100 text-red-600 rounded-lg text-xs font-bold hover:bg-red-200",children:"Remove"})]}):(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-4xl mb-3 block",children:"\uD83D\uDCE4"}),(0,s.jsx)("p",{className:"text-sm font-bold text-slate-600 dark:text-slate-300",children:"Click to upload file"}),(0,s.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"PDF, DOCX, or images up to 10MB"})]})})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),(0,s.jsx)("span",{children:"Draft auto-saved"})]})]}),(0,s.jsxs)("div",{className:"p-8 bg-slate-50 dark:bg-slate-900/50 border-t border-slate-200 dark:border-slate-800 flex gap-3",children:[(0,s.jsx)("button",{onClick:r,className:"px-6 py-4 rounded-2xl text-sm font-black text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-800 transition-all",children:"Save Draft"}),(0,s.jsx)("button",{onClick:()=>{l({assignmentId:t.id,text:n,file:c,submittedAt:new Date().toISOString()}),d(""),u(null),r()},disabled:!n.trim(),className:"flex-1 bg-indigo-600 text-white py-4 rounded-2xl text-sm font-black shadow-xl shadow-indigo-500/20 hover:bg-indigo-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit Assignment →"})]})]})]}):null}function GradingModal(e){var t;let{submission:a,assignment:r,isOpen:l,onClose:n,onSaveGrade:d}=e,[c,u]=(0,i.useState)((null==a?void 0:a.score)||0),[m,x]=(0,i.useState)((null==a?void 0:a.feedback)||""),[h,p]=(0,i.useState)("");return l&&a?(0,s.jsxs)("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4",children:[(0,s.jsx)(o.E.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 bg-slate-950/80 backdrop-blur-md",onClick:n}),(0,s.jsxs)(o.E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},className:"relative bg-white dark:bg-slate-900 w-full max-w-5xl rounded-[3rem] shadow-2xl border border-slate-200 dark:border-slate-800 flex max-h-[90vh]",children:[(0,s.jsxs)("div",{className:"flex-1 p-8 overflow-y-auto border-r border-slate-200 dark:border-slate-800",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-indigo-100 dark:bg-indigo-500/20 rounded-2xl flex items-center justify-center font-black text-indigo-600",children:(null===(t=a.studentName)||void 0===t?void 0:t[0])||"S"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-black text-slate-900 dark:text-white",children:a.studentName||"Student"}),(0,s.jsxs)("p",{className:"text-xs text-slate-400 font-medium",children:["Submitted ",new Date(a.submittedAt).toLocaleDateString()]})]})]}),(0,s.jsxs)("div",{className:"bg-indigo-50 dark:bg-indigo-500/10 rounded-2xl p-4",children:[(0,s.jsx)("p",{className:"text-xs font-black uppercase tracking-widest text-indigo-600 dark:text-indigo-400 mb-1",children:"Assignment"}),(0,s.jsx)("p",{className:"text-sm font-bold text-slate-900 dark:text-white",children:(null==r?void 0:r.title)||"Untitled"})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 block",children:"Student Response"}),(0,s.jsx)("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-2xl p-6 text-sm text-slate-700 dark:text-slate-300 border border-slate-200 dark:border-slate-700",children:a.text||"No text response provided."})]}),a.file&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 block",children:"Attached File"}),(0,s.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-indigo-50 dark:bg-indigo-500/10 rounded-2xl border border-indigo-100 dark:border-indigo-500/20",children:[(0,s.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCCE"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-bold text-sm",children:a.file.name}),(0,s.jsx)("p",{className:"text-xs text-slate-400",children:a.file.size})]}),(0,s.jsx)("button",{className:"ml-auto px-4 py-2 bg-indigo-600 text-white rounded-xl text-xs font-bold hover:bg-indigo-700",children:"View File"})]})]})]})]}),(0,s.jsxs)("div",{className:"w-96 p-8 bg-slate-50 dark:bg-slate-900/50 overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h4",{className:"text-lg font-black text-slate-900 dark:text-white",children:"Grade Submission"}),(0,s.jsx)("button",{onClick:n,className:"w-10 h-10 rounded-full hover:bg-slate-200 dark:hover:bg-slate-800 flex items-center justify-center",children:"✕"})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-3 block",children:"Score"}),(0,s.jsxs)("div",{className:"text-center mb-4",children:[(0,s.jsx)("span",{className:"text-6xl font-black bg-gradient-to-r from-indigo-600 to-violet-600 bg-clip-text text-transparent",children:c}),(0,s.jsx)("span",{className:"text-2xl font-black text-slate-400",children:"/100"})]}),(0,s.jsx)("input",{type:"range",min:"0",max:"100",value:c,onChange:e=>u(parseInt(e.target.value)),className:"w-full h-3 bg-slate-200 dark:bg-slate-700 rounded-full appearance-none cursor-pointer accent-indigo-600"}),(0,s.jsxs)("div",{className:"flex justify-between text-xs font-bold text-slate-400 mt-2",children:[(0,s.jsx)("span",{children:"0"}),(0,s.jsx)("span",{children:"50"}),(0,s.jsx)("span",{children:"100"})]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("button",{onClick:()=>{p("Strong understanding of ".concat((null==r?void 0:r.title)||"the topic",". Consider adding more specific examples in future work."))},className:"w-full py-3 rounded-xl bg-gradient-to-r from-violet-500 to-purple-600 text-white font-bold text-sm hover:shadow-lg hover:shadow-purple-500/30 transition-all flex items-center justify-center gap-2",children:"✨ AI Feedback Suggestion"}),h&&(0,s.jsxs)(o.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-3 p-4 bg-purple-50 dark:bg-purple-500/10 rounded-2xl border border-purple-200 dark:border-purple-500/20",children:[(0,s.jsx)("p",{className:"text-xs font-black uppercase tracking-widest text-purple-600 dark:text-purple-400 mb-2",children:"AI Suggests:"}),(0,s.jsx)("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:h}),(0,s.jsx)("button",{onClick:()=>x(h),className:"mt-2 text-xs font-bold text-purple-600 hover:underline",children:"Use this →"})]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 block",children:"Your Feedback"}),(0,s.jsx)("textarea",{value:m,onChange:e=>x(e.target.value),placeholder:"Provide constructive feedback...",className:"w-full h-40 bg-white dark:bg-slate-800 border-2 border-slate-200 dark:border-slate-700 rounded-2xl px-4 py-3 text-sm focus:border-indigo-500 outline-none transition-all resize-none"})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2",children:"Quick Comments"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:["Great work!","Needs improvement","Good effort","Excellent detail"].map(e=>(0,s.jsx)("button",{onClick:()=>x(m?"".concat(m," ").concat(e):e),className:"px-3 py-1.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-xs font-bold text-slate-600 dark:text-slate-300 hover:border-indigo-500 hover:text-indigo-600 transition-all",children:e},e))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("button",{onClick:()=>{d({submissionId:a.id,score:c,feedback:m,gradedAt:new Date().toISOString()}),n()},disabled:!m.trim(),className:"w-full bg-indigo-600 text-white py-4 rounded-2xl font-black shadow-xl shadow-indigo-500/20 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Save Grade"}),(0,s.jsx)("button",{onClick:n,className:"w-full py-4 rounded-2xl text-sm font-bold text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-800 transition-all",children:"Cancel"})]})]})]})]}):null}function Greeting(e){let{name:t,role:a}=e,[r,l]=(0,i.useState)("Hello");return(0,i.useEffect)(()=>{let e=new Date().getHours();e<12?l("Good morning"):e<18?l("Good afternoon"):l("Good evening")},[]),(0,s.jsxs)("div",{className:"mb-8 animate-fade-in",children:[(0,s.jsxs)("h1",{className:"text-4xl font-extrabold text-neutral-900 dark:text-neutral-50 font-[var(--font-outfit)] tracking-tight",children:[r,", ",(0,s.jsx)("span",{className:"text-primary-600 dark:text-primary-400",children:t||a||"User"})]}),(0,s.jsx)("p",{className:"text-neutral-500 dark:text-neutral-400 mt-2 text-lg",children:"Parent"===a?"Here's how your child is doing today.":"Here's what's happening with your learning today."})]})}function LineChart(e){let{data:t,height:a=200,color:r="var(--color-primary-500)"}=e;if(!t||t.length<2)return null;let l=Math.min(...t),i=Math.max(...t)-l||1,n=t.map((e,a)=>{let s=a/(t.length-1)*100;return"".concat(s,",").concat(100-(e-l)/i*100," ")}).join(" ");return(0,s.jsx)("div",{className:"relative w-full overflow-hidden",style:{height:a},children:(0,s.jsx)("svg",{viewBox:"0 0 100 100",preserveAspectRatio:"none",className:"w-full h-full overflow-visible",children:(0,s.jsx)(o.E.polyline,{fill:"none",stroke:r,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",points:n,initial:{pathLength:0},animate:{pathLength:1},transition:{duration:1.5,ease:"easeInOut"}})})})}function BarChart(e){let{data:t,labels:a,height:r=200,color:l="var(--color-primary-600)"}=e;if(!t||!a||!Array.isArray(t))return null;let i=t.length>0?Math.max(...t):1,n=i<=0?1:i;return(0,s.jsx)("div",{className:"w-full h-full flex items-end justify-between gap-3",style:{height:r},children:t.map((e,t)=>{let r=(Number(e)||0)/n*100;return(0,s.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-2 group relative h-full justify-end",children:[(0,s.jsx)(o.E.div,{className:"w-full rounded-t-sm transition-all duration-300",style:{backgroundColor:l,height:"".concat(Math.max(r,4),"%")},initial:{height:0},animate:{height:"".concat(Math.max(r,4),"%")},transition:{duration:.8,delay:.05*t,ease:"easeOut"}}),(0,s.jsx)("div",{className:"text-[10px] font-medium text-neutral-400 truncate w-full text-center tracking-tight",children:a[t]})]},t)})})}function StatsCard(e){let{label:t,value:a,trend:r,trendValue:l,icon:i,className:n=""}=e;return(0,s.jsxs)("div",{className:"p-6 bg-white dark:bg-neutral-900 border-premium shadow-premium-sm rounded-xl ".concat(n),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("span",{className:"text-neutral-500 dark:text-neutral-400 text-sm font-medium tracking-tight uppercase",children:t}),(0,s.jsx)("span",{className:"text-xl",children:i})]}),(0,s.jsxs)("div",{className:"flex items-end justify-between",children:[(0,s.jsx)("span",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-50 tracking-tight font-[var(--font-outfit)]",children:a}),r&&(0,s.jsxs)("span",{className:"text-xs font-bold px-2 py-1 rounded-full ".concat("up"===r?"bg-emerald-50 text-emerald-600 dark:bg-emerald-500/10 dark:text-emerald-400":"bg-rose-50 text-rose-600 dark:bg-rose-500/10 dark:text-rose-400"),children:["up"===r?"↑":"↓"," ",l]})]})]})}function PerformanceHeatmap(e){let{data:t}=e;return t&&0!==t.length?(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 h-full overflow-y-auto pr-2 scrollbar-hide",children:t.map((e,t)=>(0,s.jsxs)("div",{className:"bg-neutral-50 dark:bg-neutral-800/50 rounded-lg p-4 flex flex-col justify-between border-premium transition-shadow hover:shadow-premium-md",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,s.jsx)("span",{className:"text-xs font-semibold text-neutral-700 dark:text-neutral-200",children:e.subject}),(0,s.jsxs)("div",{className:"text-xs font-bold ".concat(e.score>=80?"text-emerald-600 dark:text-emerald-400":e.score>=50?"text-amber-600 dark:text-amber-400":"text-rose-600 dark:text-rose-400"),children:[e.score,"%"]})]}),(0,s.jsx)("div",{className:"w-full bg-neutral-200 dark:bg-neutral-700 h-1.5 rounded-full overflow-hidden",children:(0,s.jsx)(o.E.div,{className:"h-full rounded-full ".concat(e.score>=80?"bg-emerald-500":e.score>=50?"bg-amber-500":"bg-rose-500"),initial:{width:0},animate:{width:"".concat(e.score,"%")},transition:{duration:1,delay:.1*t}})})]},t))}):null}function StudentModule(e){var t,a,r,l,n,d,u,m,x;let{data:h,onStartQuiz:p,session:g,onUpdateSession:b,isDemoMode:v,demoData:f,isSubmitting:j,setIsSubmitting:y,setActiveAssignment:w}=e;if(!h)return null;let[N,k]=(0,i.useState)(0),[S,C]=(0,i.useState)(""),[D,E]=(0,i.useState)(""),handleLeaveClass=e=>{let t=(0,c.Gg)();t.joinedClasses.splice(e,1),b(t),N>=t.joinedClasses.length&&k(Math.max(0,t.joinedClasses.length-1))},M=(null==g?void 0:g.joinedClasses)||[],A=M[N];return(0,s.jsxs)("div",{className:"space-y-8 animate-fade-in",children:[(0,s.jsxs)(o.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"relative overflow-hidden rounded-3xl p-8 border-premium bg-white dark:bg-neutral-900 shadow-premium-lg",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 p-12 opacity-5 pointer-events-none",children:(0,s.jsx)("div",{className:"w-64 h-64 rounded-full bg-primary-500 blur-3xl"})}),(0,s.jsxs)("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between gap-8",children:[(0,s.jsxs)("div",{className:"text-center md:text-left max-w-2xl",children:[(0,s.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary-50 dark:bg-primary-500/10 border-premium text-primary-600 dark:text-primary-400 text-[10px] font-bold uppercase tracking-wider mb-4",children:[(0,s.jsx)("span",{className:"w-2 h-2 rounded-full bg-primary-500 animate-pulse"}),"AI Strategy Insight"]}),(0,s.jsx)("h3",{className:"text-3xl md:text-4xl font-extrabold text-neutral-900 dark:text-neutral-50 mb-3 leading-tight tracking-tight font-[var(--font-outfit)]",children:(null==g?void 0:null===(a=g.classroom)||void 0===a?void 0:null===(t=a.submissions)||void 0===t?void 0:t[0])?"Mastering your latest physics challenge.":"Ready for your next learning leap?"}),(0,s.jsx)("p",{className:"text-neutral-500 dark:text-neutral-400 text-base font-medium leading-relaxed",children:(null==g?void 0:null===(l=g.classroom)||void 0===l?void 0:null===(r=l.submissions)||void 0===r?void 0:r[0])?"Elora noticed you excelled at ".concat((null===(n=g.classroom.submissions[0].details.find(e=>e.isCorrect))||void 0===n?void 0:n.question.split(" ").slice(0,2).join(" "))||"recent topics",". Shall we dive deeper?"):"Elora is analyzing your latest sessions to build your personalized mastery path. Start a quiz to see your live strategy here."})]}),(0,s.jsx)("button",{className:"px-8 py-4 bg-primary-600 hover:bg-primary-700 text-white rounded-2xl font-bold text-sm tracking-tight shadow-premium-md hover:scale-[1.02] transition-all flex-shrink-0",children:"View Mastery Path →"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[(0,s.jsxs)("div",{className:"lg:col-span-8 space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-xs font-bold uppercase tracking-widest text-neutral-400",children:"Classroom Sync"}),M.length>0&&(0,s.jsx)("button",{onClick:()=>C(""===S?" ":""),className:"text-xs font-bold text-primary-600 hover:underline",children:S?"✕ Cancel":"+ Join Another Class"})]}),0===M.length?(0,s.jsxs)("div",{className:"p-8 bg-neutral-50 dark:bg-neutral-800/50 border-premium border-dashed rounded-3xl text-center",children:[(0,s.jsx)("div",{className:"text-3xl mb-4",children:"\uD83C\uDF93"}),(0,s.jsx)("h4",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-50 mb-2",children:"Join your first class"}),(0,s.jsx)("p",{className:"text-neutral-500 dark:text-neutral-400 text-sm mb-6 max-w-sm mx-auto",children:"Enter the 6-digit sync code from your teacher to unlock your custom challenges and class resources."}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,s.jsx)("input",{value:S,onChange:e=>C(e.target.value.toUpperCase()),placeholder:"XXXXXX",maxLength:6,className:"bg-white dark:bg-neutral-900 border-premium rounded-xl px-4 py-3 text-sm font-bold tracking-widest text-center focus:ring-2 focus:ring-primary-500 outline-none w-full sm:w-32"}),(0,s.jsx)("button",{onClick:()=>{S&&(E("Syncing..."),setTimeout(()=>{if(6===S.length){let e=(0,c.Gg)();Array.isArray(e.joinedClasses)||(e.joinedClasses=[]);let t=e.joinedClasses.some(e=>e.code===S);if(t){E("Already joined ✓"),setTimeout(()=>E(""),3e3);return}e.joinedClasses.push({name:"Physics 101",code:S,subject:"Physics",level:"Grade 10",country:"United States",vision:"Focus on conceptual understanding"}),b(e),E("Joined! ✅"),C("")}else E("Invalid ❌");setTimeout(()=>E(""),3e3)},1e3))},className:"bg-neutral-900 dark:bg-neutral-50 text-white dark:text-neutral-900 px-8 py-3 rounded-xl text-xs font-bold uppercase tracking-widest hover:opacity-90 transition-all shadow-md",children:D||"Sync Now →"})]})]}):(0,s.jsx)("div",{className:"flex gap-3 overflow-x-auto pb-4 scrollbar-hide",children:M.map((e,t)=>(0,s.jsxs)("button",{onClick:()=>k(t),className:"group relative px-6 py-5 rounded-2xl text-left border-premium transition-all shrink-0 min-w-[200px] ".concat(N===t?"bg-neutral-900 dark:bg-neutral-50 text-white dark:text-neutral-900 shadow-premium-md":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-50 hover:bg-neutral-50 dark:hover:bg-neutral-800"),children:[(0,s.jsx)("div",{className:"font-bold text-sm mb-1",children:e.name}),(0,s.jsxs)("div",{className:"text-[10px] font-bold uppercase tracking-widest ".concat(N===t?"opacity-60":"text-neutral-400"),children:[e.subject," • ",e.code]}),(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),handleLeaveClass(t)},className:"absolute top-2 right-2 w-6 h-6 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-rose-500/20 hover:text-rose-500",children:"✕"})]},t))})]}),(0,s.jsx)("div",{className:"lg:col-span-4 h-full",children:(0,s.jsxs)("div",{className:"p-6 bg-white dark:bg-neutral-900 border-premium shadow-premium-sm rounded-3xl h-full flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h3",{className:"text-sm font-bold uppercase tracking-widest text-neutral-400",children:"Knowledge Forest"}),(0,s.jsx)("span",{className:"text-xs font-bold text-emerald-500",children:"GROWING"})]}),(0,s.jsx)("div",{className:"flex-1 flex flex-wrap items-end justify-center gap-6 py-4 bg-neutral-50 dark:bg-neutral-800/30 rounded-2xl border-premium border-dashed min-h-[140px]",children:h.recentTopics.length>0?h.recentTopics.map((e,t)=>(0,s.jsxs)("div",{className:"flex flex-col items-center group cursor-help relative",children:[(0,s.jsx)("div",{className:"text-3xl transition-transform group-hover:scale-125 duration-500",style:{opacity:.3+e.progress/100},children:e.progress>80?"\uD83C\uDF33":e.progress>40?"\uD83C\uDF3F":"\uD83C\uDF31"}),(0,s.jsxs)("div",{className:"absolute -top-10 left-1/2 -translate-x-1/2 bg-neutral-900 text-white text-[10px] px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-20",children:[e.name,": ",e.progress,"%"]})]},t)):(0,s.jsx)("p",{className:"text-[10px] font-medium text-neutral-400 italic",children:"No topics yet"})})]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsx)(StatsCard,{label:"Streak",value:"".concat(h.streak," days"),icon:"\uD83D\uDD25",trend:"up",trendValue:"2d"}),(0,s.jsx)(StatsCard,{label:"Focus",value:"".concat(h.todayMinutes,"m"),icon:"⏱️"}),(0,s.jsx)(StatsCard,{label:"Momentum",value:"+15%",icon:"\uD83D\uDE80",trend:"up",trendValue:"4%"}),(0,s.jsx)(StatsCard,{label:"Total Progress",value:"".concat(h.overallProgress,"%"),icon:"\uD83D\uDCC8"})]}),(0,s.jsxs)("div",{className:"grid lg:grid-cols-12 gap-8",children:[(0,s.jsxs)("div",{className:"lg:col-span-8 space-y-8",children:[(0,s.jsxs)("div",{className:"p-8 bg-white dark:bg-neutral-900 border-premium rounded-[2.5rem] shadow-premium-sm",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,s.jsx)("h3",{className:"text-2xl font-extrabold text-neutral-900 dark:text-neutral-50 tracking-tight font-[var(--font-outfit)]",children:"Active Assignments"}),(0,s.jsxs)("span",{className:"px-3 py-1 bg-neutral-100 dark:bg-neutral-800 rounded-lg text-xs font-bold text-neutral-500",children:[(null==g?void 0:null===(u=g.classroom)||void 0===u?void 0:null===(d=u.assignments)||void 0===d?void 0:d.length)||0," Total"]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:null==g?void 0:null===(x=g.classroom)||void 0===x?void 0:null===(m=x.assignments)||void 0===m?void 0:m.map(e=>{var t,a;let r=null==g?void 0:null===(a=g.classroom)||void 0===a?void 0:null===(t=a.submissions)||void 0===t?void 0:t.some(t=>t.assignmentId===e.id);return"ALL"!==e.classCode&&e.classCode!==(null==A?void 0:A.code)&&M.length>0?null:(0,s.jsxs)("div",{className:"p-6 bg-neutral-50 dark:bg-neutral-800/50 rounded-2xl border-premium hover:shadow-premium-md hover:scale-[1.01] transition-all group",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsxs)("div",{className:"max-w-[80%]",children:[(0,s.jsx)("h4",{className:"font-bold text-neutral-900 dark:text-neutral-50 mb-1 leading-tight",children:e.title}),(0,s.jsx)("p",{className:"text-xs text-neutral-400 line-clamp-2",children:e.description})]}),r&&(0,s.jsx)("span",{className:"text-emerald-500 text-lg",children:"✓"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("span",{className:"text-[10px] font-bold text-neutral-400 uppercase tracking-widest",children:["Due ",e.dueDate]}),(0,s.jsx)("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded-full ".concat(r?"bg-emerald-100 text-emerald-600 dark:bg-emerald-500/10":"bg-primary-50 text-primary-600 dark:bg-primary-500/10"),children:r?"SUBMITTED":"PENDING"})]}),r?(0,s.jsx)("button",{className:"w-full py-3 bg-white dark:bg-neutral-900 text-neutral-600 dark:text-neutral-400 rounded-xl text-xs font-bold uppercase tracking-widest border-premium hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-all text-center",children:"View Grading"}):(0,s.jsx)("button",{onClick:()=>w(e),className:"w-full py-3 bg-neutral-900 dark:bg-neutral-50 text-white dark:text-neutral-900 rounded-xl text-xs font-bold uppercase tracking-widest hover:opacity-90 transition-all",children:"Start Assignment →"})]},e.id)})})]}),h.resources&&h.resources.length>0&&(0,s.jsxs)("div",{className:"p-8 bg-white dark:bg-neutral-900 border-premium rounded-[2.5rem] shadow-premium-sm",children:[(0,s.jsx)("h3",{className:"text-2xl font-extrabold text-neutral-900 dark:text-neutral-50 mb-8 tracking-tight font-[var(--font-outfit)]",children:"Class Resources"}),(0,s.jsx)("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-6",children:h.resources.map(e=>(0,s.jsxs)("div",{className:"group cursor-pointer",children:[(0,s.jsx)("div",{className:"mb-3 aspect-video bg-neutral-100 dark:bg-neutral-800 rounded-xl flex items-center justify-center text-3xl group-hover:scale-105 transition-transform duration-300 border-premium",children:"Video"===e.type?"\uD83C\uDFAC":"\uD83D\uDCC4"}),(0,s.jsx)("p",{className:"text-sm font-bold text-neutral-900 dark:text-neutral-50 line-clamp-1 mb-1",children:e.title}),(0,s.jsx)("p",{className:"text-[10px] font-bold text-neutral-400 uppercase tracking-widest",children:e.type})]},e.id))})]})]}),(0,s.jsxs)("div",{className:"lg:col-span-4 space-y-8",children:[(0,s.jsxs)("div",{className:"p-8 bg-white dark:bg-neutral-900 border-premium rounded-[2.5rem] shadow-premium-sm",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-50 mb-6 font-[var(--font-outfit)]",children:"Learning Pace"}),(0,s.jsx)(LineChart,{data:h.chartData,height:160}),(0,s.jsxs)("div",{className:"mt-6 flex items-center justify-between text-xs text-neutral-400 font-bold uppercase tracking-widest",children:[(0,s.jsx)("span",{children:"Mon"}),(0,s.jsx)("span",{children:"Sun"})]})]}),h.quizzes&&h.quizzes.length>0&&(0,s.jsxs)("div",{className:"p-8 bg-primary-600 rounded-[2.5rem] text-white shadow-premium-lg relative overflow-hidden group",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 p-8 opacity-20 group-hover:scale-110 transition-transform text-3xl",children:"\uD83C\uDFAF"}),(0,s.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Challenge Hub"}),(0,s.jsx)("p",{className:"text-primary-100 text-xs mb-6 font-medium leading-relaxed",children:"Elora has curated these challenges based on your mastery forest."}),(0,s.jsx)("div",{className:"space-y-3",children:h.quizzes.map(e=>(0,s.jsxs)("button",{onClick:()=>p(e),className:"w-full p-4 bg-white/10 hover:bg-white/20 backdrop-blur-sm rounded-2xl border border-white/20 text-left transition-all",children:[(0,s.jsx)("div",{className:"font-bold text-sm mb-1",children:e.title}),(0,s.jsxs)("div",{className:"text-[10px] opacity-70 font-bold uppercase tracking-widest",children:[e.questions.length," Items"]})]},e.id))})]})]})]})]})}function TeacherSidebar(e){let{selectedTab:t,setSelectedTab:a,classes:r,selectedClassId:l,setSelectedClassId:i,onOpenSettings:n,onDeleteClass:o,onStartCreateClass:d,onOpenQuizGen:c,onOpenVoice:u}=e;return(0,s.jsxs)("div",{className:"w-full lg:w-72 flex-shrink-0 space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-3xl p-6 border-premium shadow-premium-sm",children:[(0,s.jsx)("div",{className:"space-y-1.5 mb-8",children:[{id:"overview",label:"\uD83D\uDCCA Overview"},{id:"assignments",label:"\uD83D\uDCDD Assignments"},{id:"submissions",label:"\uD83C\uDFAF Submissions"},{id:"insights",label:"\uD83D\uDCA1 AI Insights"}].map(e=>(0,s.jsx)("button",{onClick:()=>a(e.id),className:"w-full text-left px-4 py-3 rounded-xl text-sm font-bold transition-all ".concat(t===e.id?"bg-neutral-900 dark:bg-neutral-50 text-white dark:text-neutral-900 shadow-premium-md":"text-neutral-500 hover:bg-neutral-50 dark:hover:bg-neutral-800"),children:e.label},e.id))}),(0,s.jsxs)("div",{className:"flex items-center justify-between px-4 mb-4",children:[(0,s.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-widest text-neutral-400",children:"Classes"}),(0,s.jsx)("span",{className:"text-xs font-bold text-primary-600",children:r.length})]}),(0,s.jsxs)("div",{className:"space-y-1 max-h-[40vh] overflow-y-auto pr-1 scrollbar-hide",children:[(0,s.jsx)("button",{onClick:()=>i(null),className:"w-full text-left px-4 py-3 rounded-xl text-sm font-bold transition-all ".concat(null===l?"text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-primary-500/10 border-premium":"text-neutral-500 hover:bg-neutral-50 dark:hover:bg-neutral-800"),children:"Global Overview"}),r.map(e=>(0,s.jsxs)("div",{className:"group relative",children:[(0,s.jsx)("button",{onClick:()=>i(e.id),className:"w-full text-left px-4 py-3 rounded-xl text-sm font-bold transition-all flex items-center justify-between border-premium ".concat(l===e.id?"bg-neutral-900 dark:bg-neutral-50 text-white dark:text-neutral-900":"bg-transparent text-neutral-500 hover:bg-neutral-50 dark:hover:bg-neutral-800"),children:(0,s.jsxs)("div",{className:"flex flex-col min-w-0 pr-12",children:[(0,s.jsx)("span",{className:"truncate",children:e.name}),(0,s.jsx)("span",{className:"text-[9px] font-bold uppercase tracking-widest mt-0.5 ".concat(l===e.id?"opacity-60":"text-neutral-400"),children:e.joinCode})]})}),(0,s.jsxs)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-all",children:[(0,s.jsx)("button",{onClick:t=>{t.stopPropagation(),n(e)},className:"w-8 h-8 flex items-center justify-center rounded-lg transition-colors ".concat(l===e.id?"hover:bg-neutral-800 dark:hover:bg-neutral-200":"hover:bg-neutral-100 dark:hover:bg-neutral-800"),title:"Edit Settings",children:"⚙️"}),(0,s.jsx)("button",{onClick:t=>{t.stopPropagation(),o(e.id)},className:"w-8 h-8 flex items-center justify-center rounded-lg transition-colors ".concat(l===e.id?"hover:bg-neutral-800 dark:hover:bg-neutral-200 text-rose-400":"hover:bg-rose-50 dark:hover:bg-rose-500/10 text-rose-500"),title:"Delete Class",children:"✕"})]})]},e.id))]}),(0,s.jsx)("div",{className:"mt-4 pt-4 border-t border-neutral-100 dark:border-neutral-800",children:(0,s.jsx)("button",{onClick:d,className:"w-full py-3 border-2 border-dashed border-neutral-200 dark:border-neutral-700 rounded-xl text-xs font-bold text-neutral-400 hover:text-primary-600 hover:border-primary-500/50 hover:bg-primary-50 dark:hover:bg-primary-500/5 transition-all",children:"+ Create New Class"})})]}),(0,s.jsxs)("div",{className:"bg-primary-600 rounded-3xl p-6 text-white shadow-premium-md relative overflow-hidden group",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 p-6 opacity-20 group-hover:scale-110 transition-transform text-2xl",children:"⚡"}),(0,s.jsx)("h4",{className:"font-bold text-sm mb-4",children:"Quick Actions"}),(0,s.jsxs)("div",{className:"space-y-2 relative z-10",children:[(0,s.jsx)("button",{onClick:u,className:"w-full text-left bg-white/10 hover:bg-white/20 px-3 py-2 rounded-lg text-[10px] font-bold uppercase tracking-widest transition-all",children:"\uD83C\uDF99️ Voice Orchestration"}),(0,s.jsx)("button",{onClick:c,className:"w-full text-left bg-white/10 hover:bg-white/20 px-3 py-2 rounded-lg text-[10px] font-bold uppercase tracking-widest transition-all",children:"\uD83C\uDFAF Quiz Genius"})]})]})]})}function TeacherOverview(e){let{stats:t,students:a,classes:r,selectedClassId:l}=e,i=l?r.find(e=>e.id===l):null,n=l?a.filter(e=>e.classCode===(null==i?void 0:i.joinCode)||e.classId===l):a;return(0,s.jsxs)("div",{className:"space-y-8 animate-fade-in",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsx)(StatsCard,{label:"Active Students",value:n.length,icon:"\uD83D\uDC65",trend:"up",trendValue:"3 new"}),(0,s.jsx)(StatsCard,{label:l?"Class Momentum":"Total Learning",value:"".concat(t.totalHours||0,"h"),icon:"⏱️"}),(0,s.jsx)(StatsCard,{label:"Top Subject",value:t.topSubject||"Physics",icon:"\uD83E\uDDE0",trend:"up",trendValue:"8% higher"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[(0,s.jsxs)("div",{className:"lg:col-span-8 bg-white dark:bg-neutral-900 rounded-3xl p-8 border-premium shadow-premium-sm",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-bold tracking-tight text-neutral-900 dark:text-neutral-50",children:"Subject Mastery"}),(0,s.jsx)("p",{className:"text-sm text-neutral-500 mt-1",children:"Class-wide performance distribution"})]})}),(0,s.jsx)("div",{className:"h-64 sm:h-80",children:(0,s.jsx)(PerformanceHeatmap,{data:t.heatmapData})})]}),(0,s.jsxs)("div",{className:"lg:col-span-4 bg-white dark:bg-neutral-900 rounded-3xl p-8 border-premium shadow-premium-sm",children:[(0,s.jsx)("h3",{className:"text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-50 mb-6",children:"Recent Activity"}),(0,s.jsx)("div",{className:"space-y-4",children:n.length>0?n.slice(0,5).map((e,t)=>{var a,r;return(0,s.jsxs)("div",{className:"flex items-center gap-4 p-3 rounded-2xl hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-neutral-100 dark:bg-neutral-800 flex items-center justify-center font-bold text-neutral-600 dark:text-neutral-400",children:e.name[0]}),(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-bold text-neutral-900 dark:text-neutral-50 truncate",children:e.name}),(0,s.jsx)("p",{className:"text-[10px] text-neutral-400 uppercase font-bold tracking-widest",children:(null===(r=e.stats)||void 0===r?void 0:null===(a=r.subjects)||void 0===a?void 0:a[0])||"Learning..."})]})]},t)}):(0,s.jsx)("div",{className:"text-center py-12 border-2 border-dashed border-neutral-100 dark:border-neutral-800 rounded-3xl",children:(0,s.jsx)("p",{className:"text-xs font-bold text-neutral-400",children:"No active students found"})})}),!l&&(0,s.jsxs)("div",{className:"mt-8 pt-8 border-t border-neutral-100 dark:border-neutral-800",children:[(0,s.jsx)("p",{className:"text-[10px] text-neutral-400 font-bold uppercase tracking-widest mb-4",children:"Pedagogical Insight"}),(0,s.jsx)("div",{className:"bg-primary-50 dark:bg-primary-500/5 p-4 rounded-2xl border-premium border-primary-100 dark:border-primary-500/20",children:(0,s.jsx)("p",{className:"text-xs text-primary-700 dark:text-primary-300 italic",children:'"Your students are showing high engagement in Science, but might need support in Algebra."'})})]})]})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-3xl p-8 border-premium shadow-premium-sm overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,s.jsx)("h3",{className:"text-xl font-bold tracking-tight text-neutral-900 dark:text-neutral-50",children:"Student Roster"}),(0,s.jsx)("button",{className:"text-sm font-bold text-primary-600 hover:text-primary-700",children:"Export CSV"})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-left",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-neutral-100 dark:border-neutral-800 text-neutral-400 text-[10px] font-bold uppercase tracking-widest",children:[(0,s.jsx)("th",{className:"pb-4 pl-2",children:"Name"}),(0,s.jsx)("th",{className:"pb-4 text-center",children:"Interactions"}),(0,s.jsx)("th",{className:"pb-4 text-center",children:"Focus Time"}),(0,s.jsx)("th",{className:"pb-4 text-right",children:"Momentum"})]})}),(0,s.jsxs)("tbody",{className:"divide-y divide-neutral-50 dark:divide-neutral-800",children:[n.map((e,t)=>{var a,r,l,i;return(0,s.jsxs)("tr",{className:"group hover:bg-neutral-50 dark:hover:bg-neutral-800/30 transition-colors",children:[(0,s.jsx)("td",{className:"py-4 pl-2 font-bold text-neutral-900 dark:text-neutral-50",children:e.name}),(0,s.jsx)("td",{className:"py-4 text-sm text-neutral-500 text-center",children:(null===(a=e.stats)||void 0===a?void 0:a.messagesSent)||0}),(0,s.jsxs)("td",{className:"py-4 text-sm text-neutral-500 text-center",children:[(null===(r=e.stats)||void 0===r?void 0:r.activeMinutes)||0,"m"]}),(0,s.jsx)("td",{className:"py-4 text-right",children:(0,s.jsx)("span",{className:"text-xs font-bold text-primary-600 bg-primary-50 dark:bg-primary-500/10 px-3 py-1 rounded-full",children:(null===(i=e.stats)||void 0===i?void 0:null===(l=i.subjects)||void 0===l?void 0:l[0])||"Active"})})]},t)}),0===n.length&&(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:"4",className:"py-12 text-center text-neutral-400 font-bold italic",children:"No students joined yet"})})]})]})})]})]})}var m=a(8400);let x=["Singapore","United States","United Kingdom","Australia","Malaysia","Other"],h={Singapore:{Primary:["English","Mathematics","Science","Chinese","Malay","Tamil"],Secondary:["English","Elementary Math","Additional Math","Physics","Chemistry","Biology","Combined Science","Geography","History","Literature","Social Studies"],"Junior College":["General Paper","H1 Math","H2 Math","H2 Physics","H2 Chemistry","H2 Biology","H2 Economics","H1 Economics","History","Geography","Literature"]},"United Kingdom":{"Key Stage 1-2":["English","Maths","Science","History","Geography","Art","Computing"],GCSE:["English Language","English Literature","Maths","Biology","Chemistry","Physics","Combined Science","History","Geography","Computer Science"],"A-Level":["Maths","Further Maths","Physics","Chemistry","Biology","English Literature","History","Geography","Psychology","Sociology","Economics"]},"United States":{Elementary:["English Language Arts","Mathematics","Science","Social Studies"],"Middle School":["English","Pre-Algebra","Algebra 1","Earth Science","Life Science","Physical Science","World History","US History"],"High School":["English I-IV","Algebra 1","Geometry","Algebra 2","Pre-Calculus","Calculus","Biology","Chemistry","Physics","US History","World History","Government","Economics"]},Other:["General","Math","Science","English","History","Geography","Computing","Physics","Chemistry","Biology","Economics"]},p={Singapore:["Primary 1","Primary 2","Primary 3","Primary 4","Primary 5","Primary 6","Secondary 1","Secondary 2","Secondary 3","Secondary 4","Junior College 1","Junior College 2"],"United States":["Grade 1","Grade 2","Grade 3","Grade 4","Grade 5","Grade 6","Grade 7","Grade 8","Grade 9","Grade 10","Grade 11","Grade 12"],"United Kingdom":["Year 1","Year 2","Year 3","Year 4","Year 5","Year 6","Year 7","Year 8","Year 9","Year 10","Year 11","Year 12","Year 13"],Australia:["Year 1","Year 2","Year 3","Year 4","Year 5","Year 6","Year 7","Year 8","Year 9","Year 10","Year 11","Year 12"],Malaysia:["Standard 1","Standard 2","Standard 3","Standard 4","Standard 5","Standard 6","Form 1","Form 2","Form 3","Form 4","Form 5","Form 6"],Other:["Elementary","Middle","High School","Tertiary"]};function ClassWizard(e){let{isOpen:t,onClose:a,onSave:r,editingClass:l=null}=e,[n,c]=(0,i.useState)(1),[u,m]=(0,i.useState)(l||{name:"",country:"Singapore",level:"",subject:"",vision:""}),g=!!l,canContinue=()=>1===n?u.name&&u.country:2!==n||u.level&&u.subject;return t?(0,s.jsxs)("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[(0,s.jsx)(o.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-neutral-950/40 backdrop-blur-sm",onClick:a}),(0,s.jsxs)(o.E.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"relative bg-white dark:bg-neutral-900 w-full max-w-lg rounded-[2.5rem] shadow-premium-xl border-premium overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-8 pb-0 flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)("span",{className:"w-10 h-10 bg-primary-50 dark:bg-primary-500/10 rounded-2xl flex items-center justify-center text-xl",children:g?"⚙️":"✨"}),(0,s.jsx)("h3",{className:"text-2xl font-bold tracking-tight text-neutral-900 dark:text-neutral-50",children:g?"Class Settings":"New Classroom"})]}),(0,s.jsx)("p",{className:"text-neutral-500 dark:text-neutral-400 text-sm",children:g?"Refining ".concat(l.name):"Configure a new space for your students."})]}),(0,s.jsx)("div",{className:"flex gap-1.5 pt-2",children:[1,2,3].map(e=>(0,s.jsx)("div",{className:"w-1.5 h-1.5 rounded-full transition-all duration-300 ".concat(n>=e?"bg-primary-600 w-4":"bg-neutral-200 dark:bg-neutral-800")},e))})]}),(0,s.jsxs)("div",{className:"p-8 pt-10",children:[(0,s.jsxs)(d.M,{mode:"wait",children:[1===n&&(0,s.jsxs)(o.E.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-neutral-400 mb-2 block",children:"Class Name"}),(0,s.jsx)("input",{autoFocus:!0,value:u.name,onChange:e=>m({...u,name:e.target.value}),placeholder:"e.g. Theoretical Physics II",className:"w-full bg-neutral-50 dark:bg-neutral-800 border-premium rounded-2xl px-5 py-4 text-sm focus:border-primary-500 outline-none transition-all"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-neutral-400 mb-2 block",children:"Region / Academic System"}),(0,s.jsx)("select",{value:u.country,onChange:e=>m({...u,country:e.target.value,level:"",subject:""}),className:"w-full bg-neutral-50 dark:bg-neutral-800 border-premium rounded-2xl px-5 py-4 text-sm focus:border-primary-500 outline-none transition-all appearance-none",children:x.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]})]},"step1"),2===n&&(0,s.jsxs)(o.E.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-neutral-400 mb-2 block",children:"Academic Level"}),(0,s.jsxs)("select",{value:u.level,onChange:e=>m({...u,level:e.target.value,subject:""}),className:"w-full bg-neutral-50 dark:bg-neutral-800 border-premium rounded-2xl px-5 py-4 text-sm focus:border-primary-500 outline-none transition-all appearance-none",children:[(0,s.jsx)("option",{value:"",children:"Select Level"}),(p[u.country]||p.Other).map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-neutral-400 mb-2 block",children:"Primary Subject"}),(0,s.jsxs)("select",{value:u.subject,onChange:e=>m({...u,subject:e.target.value}),className:"w-full bg-neutral-50 dark:bg-neutral-800 border-premium rounded-2xl px-5 py-4 text-sm focus:border-primary-500 outline-none transition-all appearance-none",disabled:!u.level,children:[(0,s.jsx)("option",{value:"",children:"Select Subject"}),u.level&&(function(e,t){if(!e||!h[e])return h.Other;if(!t||"string"!=typeof t)return Array.isArray(h[e])?h[e]:Object.values(h[e])[0];let a=h[e];if("Singapore"===e){if(t.includes("Primary"))return a.Primary;if(t.includes("Secondary"))return a.Secondary;if(t.includes("Junior"))return a["Junior College"]}else if("United Kingdom"===e)return t.includes("Year 1")||t.includes("Year 2")||t.includes("Year 3")||t.includes("Year 4")||t.includes("Year 5")||t.includes("Year 6")?a["Key Stage 1-2"]:t.includes("Year 12")||t.includes("Year 13")?a["A-Level"]:a.GCSE;else if("United States"===e)return t.includes("Grade 1")||t.includes("Grade 2")||t.includes("Grade 3")||t.includes("Grade 4")||t.includes("Grade 5")?a.Elementary:t.includes("Grade 6")||t.includes("Grade 7")||t.includes("Grade 8")?a["Middle School"]:a["High School"];return Array.isArray(a)?a:Object.values(a).flat()})(u.country,u.level).map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]})]},"step2"),3===n&&(0,s.jsx)(o.E.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"space-y-6",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-neutral-400 mb-2 block",children:"Classroom Vision (Optional)"}),(0,s.jsx)("textarea",{value:u.vision,onChange:e=>m({...u,vision:e.target.value}),placeholder:"e.g. Cultivating a curiosity-first environment for advanced logic...",className:"w-full h-32 bg-neutral-50 dark:bg-neutral-800 border-premium rounded-2xl px-5 py-4 text-sm focus:border-primary-500 outline-none transition-all resize-none"}),(0,s.jsx)("p",{className:"text-[10px] text-neutral-400 mt-2 italic px-1",children:"Elora uses this to adjust her pedagogical tone for this class."})]})},"step3")]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-10",children:[(0,s.jsx)("button",{onClick:1===n?a:()=>c(e=>e-1),className:"px-6 py-4 rounded-2xl text-xs font-bold text-neutral-500 hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors",children:1===n?"Cancel":"Back"}),(0,s.jsx)("button",{onClick:3===n?()=>r(u):()=>c(e=>e+1),disabled:!canContinue(),className:"flex-1 px-6 py-4 rounded-2xl text-xs font-bold transition-all shadow-premium-md ".concat(canContinue()?"bg-neutral-900 dark:bg-neutral-50 text-white dark:text-neutral-900 hover:scale-[1.02]":"bg-neutral-100 dark:bg-neutral-800 text-neutral-400 cursor-not-allowed"),children:n<3?"Next Step":g?"Save Changes":"Create Class"})]})]})]})]}):null}function TeacherVideoExplorer(e){let{selectedClass:t,onPostResource:a}=e,[r,l]=(0,i.useState)(""),[n,c]=(0,i.useState)([]),[u,m]=(0,i.useState)(!1),handleSearch=async()=>{if(r){m(!0);try{setTimeout(()=>{let e=[{id:"1",title:"Mastering ".concat((null==t?void 0:t.subject)||"Physics",": Core Concepts"),views:"1.2M",length:"12:45",thumbnail:"\uD83C\uDFAC"},{id:"2",title:"".concat((null==t?void 0:t.subject)||"Science"," Fundamentals for ").concat((null==t?void 0:t.level)||"Students"),views:"850K",length:"08:20",thumbnail:"\uD83E\uDDEA"},{id:"3",title:"Advanced Problem Solving Techniques",views:"420K",length:"15:30",thumbnail:"\uD83D\uDCD0"}];c(e),m(!1)},800)}catch(e){notify("Search failed","error"),m(!1)}}};return(0,s.jsx)("div",{className:"space-y-8 animate-fade-in",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-[2.5rem] p-8 border-premium shadow-premium-sm",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6 mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-2xl font-extrabold text-neutral-900 dark:text-neutral-50 tracking-tight font-[var(--font-outfit)]",children:"Video Explorer"}),(0,s.jsxs)("p",{className:"text-neutral-400 text-sm",children:["Curate high-impact visual resources for ",(0,s.jsx)("b",{children:(null==t?void 0:t.name)||"your class"}),"."]})]}),(0,s.jsxs)("div",{className:"flex gap-2 w-full md:w-auto",children:[(0,s.jsx)("input",{value:r,onChange:e=>l(e.target.value),onKeyDown:e=>"Enter"===e.key&&handleSearch(),placeholder:"Search YouTube...",className:"bg-neutral-50 dark:bg-neutral-800 border-premium rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-primary-500 outline-none flex-1 md:w-64"}),(0,s.jsx)("button",{onClick:handleSearch,disabled:u,className:"bg-neutral-900 dark:bg-neutral-50 text-white dark:text-neutral-900 px-6 py-3 rounded-xl text-xs font-bold uppercase tracking-widest hover:opacity-90 transition-all flex items-center gap-2",children:u?(0,s.jsx)("span",{className:"animate-spin",children:"◌"}):"Search"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsx)(d.M,{children:n.map((e,t)=>(0,s.jsxs)(o.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1*t},className:"group bg-neutral-50 dark:bg-neutral-800/50 border-premium rounded-2xl overflow-hidden hover:shadow-premium-md transition-all active:scale-[0.98]",children:[(0,s.jsx)("div",{className:"aspect-video bg-neutral-200 dark:bg-neutral-700 flex items-center justify-center text-4xl group-hover:scale-110 transition-transform duration-500",children:e.thumbnail}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h4",{className:"font-bold text-sm text-neutral-900 dark:text-neutral-50 mb-2 line-clamp-2",children:e.title}),(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4 text-[10px] font-bold text-neutral-400 uppercase tracking-widest",children:[(0,s.jsxs)("span",{children:[e.views," views"]}),(0,s.jsx)("span",{children:e.length})]}),(0,s.jsx)("button",{onClick:()=>a({...e,type:"Video"}),className:"w-full py-2.5 bg-white dark:bg-neutral-900 border-premium text-neutral-600 dark:text-neutral-400 rounded-lg text-[10px] font-bold uppercase tracking-widest hover:bg-primary-600 hover:text-white hover:border-primary-600 transition-all",children:"Post to Class →"})]})]},e.id))}),0===n.length&&!u&&(0,s.jsxs)("div",{className:"col-span-3 py-20 text-center border-premium border-dashed rounded-3xl opacity-50",children:[(0,s.jsx)("div",{className:"text-3xl mb-4",children:"\uD83D\uDCFA"}),(0,s.jsx)("p",{className:"text-sm font-medium",children:"Search for videos to start curating."})]})]})]})})}function AssignmentWizard(e){let{isOpen:t,onClose:a,onSave:r,classes:l}=e,[n,c]=(0,i.useState)(1),[u,m]=(0,i.useState)({title:"",description:"",dueDate:"",classCode:"ALL",points:100,aiGenerated:!1});if(!t)return null;let handleSave=()=>{r(u),c(1),m({title:"",description:"",dueDate:"",classCode:"ALL",points:100,aiGenerated:!1})};return(0,s.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 sm:p-12",children:[(0,s.jsx)(o.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:a,className:"absolute inset-0 bg-neutral-900/40 backdrop-blur-md"}),(0,s.jsxs)(o.E.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-2xl bg-white dark:bg-neutral-950 rounded-[2.5rem] shadow-premium-xl border-premium overflow-hidden",children:[(0,s.jsxs)("div",{className:"px-10 pt-10 pb-6 border-b border-neutral-100 dark:border-neutral-800/50",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-widest text-primary-600",children:"New Assignment"}),(0,s.jsxs)("span",{className:"text-xs font-bold text-neutral-400",children:["Step ",n," of 2"]})]}),(0,s.jsx)("h3",{className:"text-3xl font-extrabold text-neutral-900 dark:text-neutral-50 tracking-tight font-[var(--font-outfit)]",children:1===n?"Mission Profile":"Target & Timing"})]}),(0,s.jsx)("div",{className:"p-10",children:(0,s.jsxs)(d.M,{mode:"wait",children:[1===n&&(0,s.jsxs)(o.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-neutral-400 ml-4",children:"Assignment Title"}),(0,s.jsx)("input",{value:u.title,onChange:e=>m({...u,title:e.target.value}),placeholder:"e.g. Gravity and Motion Lab",className:"w-full bg-neutral-50 dark:bg-neutral-900 border-premium rounded-2xl px-6 py-4 text-sm font-medium focus:ring-2 focus:ring-primary-500 outline-none transition-all"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-neutral-400 ml-4",children:"Instructions"}),(0,s.jsx)("textarea",{value:u.description,onChange:e=>m({...u,description:e.target.value}),placeholder:"Describe the learning objectives...",rows:4,className:"w-full bg-neutral-50 dark:bg-neutral-900 border-premium rounded-2xl px-6 py-4 text-sm font-medium focus:ring-2 focus:ring-primary-500 outline-none transition-all resize-none"})]}),(0,s.jsx)("button",{onClick:()=>m({...u,description:"Analyze the relationship between mass, distance, and gravitational force using the simulations provided.",aiGenerated:!0}),className:"flex items-center gap-2 text-[10px] font-bold text-primary-600 uppercase tracking-widest hover:opacity-80 transition-all",children:"✨ Let Elora Write Instructions"})]},"step1"),2===n&&(0,s.jsxs)(o.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-neutral-400 ml-4",children:"Due Date"}),(0,s.jsx)("input",{type:"date",value:u.dueDate,onChange:e=>m({...u,dueDate:e.target.value}),className:"w-full bg-neutral-50 dark:bg-neutral-900 border-premium rounded-2xl px-6 py-4 text-sm font-medium focus:ring-2 focus:ring-primary-500 outline-none transition-all"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-neutral-400 ml-4",children:"Max Points"}),(0,s.jsx)("input",{type:"number",value:u.points,onChange:e=>m({...u,points:parseInt(e.target.value)}),className:"w-full bg-neutral-50 dark:bg-neutral-900 border-premium rounded-2xl px-6 py-4 text-sm font-medium focus:ring-2 focus:ring-primary-500 outline-none transition-all"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-neutral-400 ml-4",children:"Assign to Class"}),(0,s.jsxs)("select",{value:u.classCode,onChange:e=>m({...u,classCode:e.target.value}),className:"w-full bg-neutral-50 dark:bg-neutral-900 border-premium rounded-2xl px-6 py-4 text-sm font-bold focus:ring-2 focus:ring-primary-500 outline-none transition-all appearance-none",children:[(0,s.jsx)("option",{value:"ALL",children:"All Classes"}),l.map(e=>(0,s.jsx)("option",{value:e.joinCode,children:e.name},e.id))]})]})]},"step2")]})}),(0,s.jsxs)("div",{className:"p-10 bg-neutral-50 dark:bg-neutral-900/50 flex justify-between items-center border-t border-neutral-100 dark:border-neutral-800/50",children:[(0,s.jsx)("button",{onClick:a,className:"text-[10px] font-extrabold uppercase tracking-widest text-neutral-400 hover:text-neutral-600 dark:hover:text-neutral-200 transition-all",children:"Discard"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[2===n&&(0,s.jsx)("button",{onClick:()=>c(1),className:"px-8 py-3 bg-white dark:bg-neutral-950 border-premium text-neutral-600 dark:text-neutral-400 rounded-xl text-[10px] font-bold uppercase tracking-widest hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-all",children:"Back"}),(0,s.jsx)("button",{onClick:()=>1===n?c(2):handleSave(),disabled:1===n&&!u.title,className:"px-10 py-3 bg-neutral-900 dark:bg-neutral-50 text-white dark:text-neutral-900 rounded-xl text-[10px] font-bold uppercase tracking-widest shadow-premium-md hover:opacity-90 transition-all disabled:opacity-50",children:1===n?"Continue →":"Deploy Assignment"})]})]})]})]})}function QuizGenerator(e){let{isOpen:t,onClose:a,onSave:r,selectedClass:l}=e,[n,d]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1),[m,x]=(0,i.useState)(null);if(!t)return null;let handleGenerate=async()=>{n&&(u(!0),setTimeout(()=>{let e={id:"quiz_".concat(Date.now()),title:"".concat(n," Mastery Quiz"),subject:(null==l?void 0:l.subject)||"General",questions:[{id:1,text:"What is the primary law governing ".concat(n,"?"),options:["Option A","Option B","Option C","Option D"],correct:0},{id:2,text:"In the context of ".concat(n,", how does X affect Y?"),options:["Option A","Option B","Option C","Option D"],correct:2}]};x(e),u(!1),notify("Quiz generated by Elora ✨","success")},1500))};return(0,s.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 sm:p-12",children:[(0,s.jsx)(o.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:a,className:"absolute inset-0 bg-neutral-900/40 backdrop-blur-md"}),(0,s.jsx)(o.E.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-xl bg-white dark:bg-neutral-950 rounded-[2.5rem] shadow-premium-xl border-premium overflow-hidden",children:(0,s.jsxs)("div",{className:"p-10",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-2xl bg-indigo-600 flex items-center justify-center text-white text-xl shadow-premium-md",children:"✨"}),(0,s.jsx)("h3",{className:"text-2xl font-extrabold text-neutral-900 dark:text-neutral-50 tracking-tight font-[var(--font-outfit)]",children:"Quiz Genius"})]}),m?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"p-6 bg-emerald-50 dark:bg-emerald-500/10 border-premium border-emerald-200 dark:border-emerald-500/30 rounded-2xl",children:[(0,s.jsx)("h4",{className:"font-bold text-emerald-800 dark:text-emerald-400 mb-1",children:m.title}),(0,s.jsxs)("p",{className:"text-xs text-emerald-600 dark:text-emerald-500",children:[m.questions.length," adaptive questions drafted."]})]}),(0,s.jsx)("div",{className:"max-h-48 overflow-y-auto space-y-3 pr-2 scrollbar-hide",children:m.questions.map((e,t)=>(0,s.jsxs)("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-900 border-premium rounded-xl text-xs",children:[(0,s.jsxs)("b",{children:["Q",t+1,":"]})," ",e.text]},t))}),(0,s.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,s.jsx)("button",{onClick:()=>x(null),className:"flex-1 py-3 bg-white dark:bg-neutral-900 border-premium text-neutral-500 rounded-xl text-[10px] font-bold uppercase tracking-widest hover:bg-neutral-50",children:"Re-generate"}),(0,s.jsx)("button",{onClick:()=>{r(m),a()},className:"flex-1 py-3 bg-neutral-900 dark:bg-neutral-50 text-white dark:text-neutral-900 rounded-xl text-[10px] font-bold uppercase tracking-widest shadow-premium-md",children:"Save & Assign"})]})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("p",{className:"text-neutral-500 text-sm leading-relaxed",children:["Tell Elora what topic you're teaching, and she'll generate a multi-tiered quiz optimized for ",(null==l?void 0:l.level)||"your students","."]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-neutral-400 ml-4",children:"Quiz Topic"}),(0,s.jsx)("input",{value:n,onChange:e=>d(e.target.value),placeholder:"e.g. Newton's Third Law, Photosynthesis",className:"w-full bg-neutral-50 dark:bg-neutral-900 border-premium rounded-2xl px-6 py-4 text-sm font-medium focus:ring-2 focus:ring-primary-500 outline-none transition-all"})]}),(0,s.jsx)("button",{onClick:handleGenerate,disabled:c||!n,className:"w-full py-4 bg-neutral-900 dark:bg-neutral-50 text-white dark:text-neutral-900 rounded-2xl text-[10px] font-bold uppercase tracking-widest shadow-premium-md hover:opacity-90 transition-all disabled:opacity-30 flex items-center justify-center gap-2",children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"animate-spin text-lg",children:"◌"})," Generating Intelligence..."]}):"Generate Quiz Now →"})]})]})})]})}function VoiceAssistant(e){let{isOpen:t,onClose:a,onApplyPlan:r}=e,[l,n]=(0,i.useState)(!1),[d,c]=(0,i.useState)(""),[u,m]=(0,i.useState)(!1),[x,h]=(0,i.useState)(null);return t?(0,s.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 sm:p-12",children:[(0,s.jsx)(o.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:a,className:"absolute inset-0 bg-neutral-900/40 backdrop-blur-md"}),(0,s.jsx)(o.E.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-xl bg-white dark:bg-neutral-950 rounded-[2.5rem] shadow-premium-xl border-premium overflow-hidden",children:(0,s.jsxs)("div",{className:"p-10",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-2xl bg-rose-600 flex items-center justify-center text-white text-xl shadow-premium-md",children:"\uD83C\uDF99️"}),(0,s.jsx)("h3",{className:"text-2xl font-extrabold text-neutral-900 dark:text-neutral-50 tracking-tight font-[var(--font-outfit)]",children:"Voice Orchestration"})]}),x?(0,s.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,s.jsxs)("div",{className:"p-6 bg-rose-50 dark:bg-rose-500/10 border-premium border-rose-200 dark:border-rose-500/30 rounded-2xl",children:[(0,s.jsx)("h4",{className:"font-bold text-rose-900 dark:text-rose-400 mb-1",children:x.title}),(0,s.jsxs)("p",{className:"text-xs text-rose-600 dark:text-rose-500",children:["Structured ",x.duration," high-impact session."]})]}),(0,s.jsx)("div",{className:"space-y-2",children:x.segments.map((e,t)=>(0,s.jsxs)("div",{className:"flex gap-4 p-4 bg-neutral-50 dark:bg-neutral-900 border-premium rounded-2xl items-center",children:[(0,s.jsx)("span",{className:"text-[10px] font-bold text-neutral-400 w-16",children:e.time}),(0,s.jsx)("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:e.activity})]},t))}),(0,s.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,s.jsx)("button",{onClick:()=>h(null),className:"flex-1 py-3 bg-white dark:bg-neutral-900 border-premium text-neutral-500 rounded-xl text-[10px] font-bold uppercase tracking-widest hover:bg-neutral-50",children:"Try Again"}),(0,s.jsx)("button",{onClick:()=>{r(x),a()},className:"flex-1 py-3 bg-neutral-900 dark:bg-neutral-50 text-white dark:text-neutral-900 rounded-xl text-[10px] font-bold uppercase tracking-widest shadow-premium-md",children:"Deploy Strategy"})]})]}):(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsx)("div",{className:"p-8 bg-neutral-50 dark:bg-neutral-900 border-premium rounded-3xl text-center relative group min-h-[160px] flex items-center justify-center",children:l?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"flex gap-1 justify-center",children:[1,2,3,4,5].map(e=>(0,s.jsx)(o.E.div,{animate:{height:[10,30,10]},transition:{repeat:1/0,duration:.6,delay:.1*e},className:"w-1 bg-rose-500 rounded-full"},e))}),(0,s.jsx)("p",{className:"text-xs font-bold text-rose-500 uppercase tracking-widest",children:"Listening to your vision..."})]}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("p",{className:"text-neutral-500 text-sm font-medium px-4",children:d||"Describe your lesson idea. Elora will structure it into a full execution plan."}),!d&&(0,s.jsx)("button",{onClick:()=>{n(!0),c(""),h(null),setTimeout(()=>{c("I want to plan a 45-minute lesson for my Physics class about Newton's Second Law. Include a hands-on activity with carts and an AI-generated quiz at the end."),n(!1)},3e3)},className:"w-16 h-16 rounded-full bg-neutral-900 dark:bg-neutral-50 text-white dark:text-neutral-900 flex items-center justify-center text-2xl shadow-premium-lg hover:scale-110 transition-all mx-auto",children:"\uD83C\uDF99️"})]})}),d&&!l&&(0,s.jsx)("button",{onClick:()=>{m(!0),setTimeout(()=>{h({title:"Newton's Second Law Expedition",duration:"45 mins",segments:[{time:"0-10m",activity:"Visual Recap: Force vs Acceleration"},{time:"10-30m",activity:"Interactive Cart Lab: Measuring F=ma"},{time:"30-45m",activity:"AI Quiz & Peer Discussion"}]}),m(!1),notify("Lesson plan structured by Elora","success")},1200)},disabled:u,className:"w-full py-4 bg-neutral-900 dark:bg-neutral-50 text-white dark:text-neutral-900 rounded-2xl text-[10px] font-bold uppercase tracking-widest shadow-premium-md hover:opacity-90 transition-all flex items-center justify-center gap-2",children:u?"Synthesizing...":"Generate Lesson Strategy →"})]})]})})]}):null}function TeacherModule(e){var t;let{students:a,metrics:r,onAddStudent:l,session:n,onUpdateSession:c,isDemoMode:u,demoData:m,router:x}=e;if(!n)return null;let[h,p]=(0,i.useState)("overview"),[g,b]=(0,i.useState)(null),[v,f]=(0,i.useState)(!1),[j,y]=(0,i.useState)(!1),[w,N]=(0,i.useState)(!1),[k,S]=(0,i.useState)(!1),[C,D]=(0,i.useState)(null),E=(null==n?void 0:null===(t=n.classroom)||void 0===t?void 0:t.classes)||[],M=E.find(e=>e.id===g)||E[0];return(0,s.jsxs)("div",{className:"space-y-8 animate-fade-in pb-20",children:[(0,s.jsx)("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 px-1",children:(0,s.jsx)(Greeting,{name:n.name,role:"Educator"})}),(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8 items-start",children:[(0,s.jsx)(TeacherSidebar,{selectedTab:h,setSelectedTab:p,classes:E,selectedClassId:g,setSelectedClassId:b,onOpenSettings:e=>{D(e),f(!0)},onDeleteClass:e=>{let t=E.find(t=>t.id===e);if(t&&window.confirm('Are you sure you want to delete "'.concat(t.name,'"? This action cannot be undone.'))){let t={...n};t.classroom.classes=t.classroom.classes.filter(t=>t.id!==e),c(t),g===e&&b(null)}},onStartCreateClass:()=>{D(null),f(!0)},onOpenQuizGen:()=>N(!0),onOpenVoice:()=>S(!0)}),(0,s.jsx)("div",{className:"flex-1 min-w-0 w-full",children:(0,s.jsxs)(d.M,{mode:"wait",children:["overview"===h&&(0,s.jsx)(o.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:(0,s.jsx)(TeacherOverview,{stats:r,students:a,classes:E,selectedClassId:g})},"overview"),"assignments"===h&&(0,s.jsx)(AssignmentWizard,{isOpen:!0,onClose:()=>p("overview"),classes:E,onSave:e=>{let t={...n};t.classroom.assignments||(t.classroom.assignments=[]),t.classroom.assignments.push({...e,id:"asgn_".concat(Date.now())}),c(t)}}),"insights"===h&&(0,s.jsx)(TeacherVideoExplorer,{selectedClass:M,onPostResource:e=>{let t={...n};t.classroom.resources||(t.classroom.resources=[]),t.classroom.resources.push({...e,id:"res_".concat(Date.now())}),c(t)}}),"submissions"===h&&(0,s.jsxs)(o.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-white dark:bg-neutral-900 rounded-[2.5rem] p-12 border-premium text-center",children:[(0,s.jsx)("div",{className:"text-4xl mb-6",children:"✨"}),(0,s.jsx)("h3",{className:"text-xl font-bold text-neutral-900 dark:text-neutral-50 mb-2",children:"Automated Grading"}),(0,s.jsx)("p",{className:"text-neutral-500 max-w-sm mx-auto mb-8",children:"Elora is analyzing student work in the background. Automated grading and feedback summaries will appear here."})]},"coming-soon")]})})]}),(0,s.jsx)(ClassWizard,{isOpen:v,onClose:()=>f(!1),onSave:e=>{let t={...n};if(t.classroom||(t.classroom={classes:[]}),t.classroom.classes||(t.classroom.classes=[]),C)t.classroom.classes=t.classroom.classes.map(t=>t.id===C.id?{...t,...e}:t);else{let a={id:"cls_".concat(Date.now()),joinCode:Math.random().toString(36).substring(2,8).toUpperCase(),studentCount:0,color:"neutral",...e};t.classroom.classes.push(a)}c(t),f(!1),D(null)},editingClass:C}),(0,s.jsx)(QuizGenerator,{isOpen:w,onClose:()=>N(!1),selectedClass:M,onSave:e=>{let t={...n};t.classroom.quizzes||(t.classroom.quizzes=[]),t.classroom.quizzes.push(e),c(t)}}),(0,s.jsx)(VoiceAssistant,{isOpen:k,onClose:()=>S(!1),onApplyPlan:e=>{let t={...n};t.classroom.assignments||(t.classroom.assignments=[]),t.classroom.assignments.push({id:"asgn_".concat(Date.now()),title:e.title,description:e.segments.map(e=>"".concat(e.time,": ").concat(e.activity)).join("\n"),dueDate:new Date(Date.now()+6048e5).toISOString().split("T")[0],classCode:(null==M?void 0:M.joinCode)||"ALL"}),c(t)}})]})}function ParentModule(e){var t,a;let{linkedStudentId:r,linkedData:l,onLinkStudent:i,onDisconnect:n,isVerified:d,session:c}=e;return r?(0,s.jsxs)("div",{className:"space-y-8 animate-fade-in",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between px-1",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-2xl font-bold tracking-tight text-neutral-900 dark:text-neutral-50",children:["Tracking: ",(0,s.jsx)("span",{className:"text-primary-600 dark:text-primary-400",children:(null==l?void 0:l.name)||"Student"})]}),(0,s.jsx)("p",{className:"text-sm text-neutral-500 mt-1",children:"Real-time educational tracking active"})]}),(0,s.jsx)("button",{onClick:n,className:"text-xs font-bold text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-500/10 px-4 py-2 rounded-xl transition-all",children:"Disconnect"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsx)(StatsCard,{label:"Streak",value:"".concat((null==l?void 0:l.streak)||0," days"),icon:"\uD83D\uDD25"}),(0,s.jsx)(StatsCard,{label:"Today",value:"".concat((null==l?void 0:l.todayMinutes)||0,"m"),icon:"⏱️"}),(0,s.jsx)(StatsCard,{label:"Progress",value:"".concat((null==l?void 0:l.overallProgress)||0,"%"),icon:"\uD83D\uDCC8"}),(0,s.jsx)(StatsCard,{label:"Concepts",value:"12",icon:"\uD83E\uDDE9"})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,s.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-3xl p-8 border-premium shadow-premium-sm",children:[(0,s.jsx)("h3",{className:"text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-50 mb-8",children:"Subject Breakdown"}),(0,s.jsx)("div",{className:"h-64",children:(0,s.jsx)(BarChart,{data:(null==l?void 0:l.subjectBreakdown)||[0,0,0,0],labels:(null==l?void 0:l.subjectLabels)||["Math","Sci","Eng","Art"],color:"#3b82f6"})})]}),(0,s.jsxs)("div",{className:"bg-neutral-900 rounded-3xl p-8 text-white shadow-premium-md relative overflow-hidden group",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 p-8 opacity-10 group-hover:scale-110 transition-transform text-4xl",children:"\uD83E\uDDE0"}),(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsx)("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/10 border border-white/20 text-[10px] font-bold uppercase tracking-widest mb-6",children:"Pedagogical Pulse"}),(0,s.jsx)("h3",{className:"text-xl font-bold mb-4 tracking-tight",children:"Elora's AI Perspective"}),(null==c?void 0:null===(a=c.classroom)||void 0===a?void 0:null===(t=a.submissions)||void 0===t?void 0:t.length)>0?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("p",{className:"text-neutral-400 text-sm leading-relaxed",children:["Your child recently completed ",(0,s.jsxs)("span",{className:"text-white font-bold",children:['"',c.classroom.submissions[0].quizTitle,'"']})," with strong conceptual intuition."]}),(0,s.jsxs)("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/10",children:[(0,s.jsx)("p",{className:"text-xs text-primary-400 font-bold uppercase tracking-widest mb-1",children:"Recommendation"}),(0,s.jsx)("p",{className:"text-xs text-neutral-300 italic",children:'"Focusing on advanced problem-solving in this area will maintain their current momentum."'})]})]}):(0,s.jsx)("p",{className:"text-neutral-400 text-sm leading-relaxed",children:"As your child interacts with Elora, I'll analyze their learning patterns and provide deep insights into their academic growth and areas for support."})]})]})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-3xl p-8 border-premium shadow-premium-sm",children:[(0,s.jsx)("h3",{className:"text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-50 mb-6",children:"Learning Log"}),(0,s.jsx)("div",{className:"space-y-4",children:((null==l?void 0:l.recentActivity)||[]).length>0?l.recentActivity.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-neutral-50 dark:bg-neutral-800/50 border-premium",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary-50 dark:bg-primary-500/10 flex items-center justify-center text-primary-600",children:"\uD83D\uDCC4"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-bold text-neutral-900 dark:text-neutral-50",children:e.action}),(0,s.jsx)("p",{className:"text-[10px] text-neutral-400 uppercase font-bold tracking-widest mt-0.5",children:e.time})]})]}),(0,s.jsx)("div",{className:"text-xs font-bold text-primary-600",children:"View Detail →"})]},t)):(0,s.jsx)("div",{className:"text-center py-12 border-2 border-dashed border-neutral-100 dark:border-neutral-800 rounded-3xl",children:(0,s.jsx)("p",{className:"text-xs font-bold text-neutral-400",children:"No recent activity logged"})})})]})]}):(0,s.jsxs)(o.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-neutral-900 rounded-[2.5rem] p-12 text-white shadow-premium-xl relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 p-12 opacity-10 text-6xl",children:"\uD83D\uDEE1️"}),(0,s.jsxs)("div",{className:"relative z-10 max-w-xl",children:[(0,s.jsx)("h3",{className:"text-3xl font-bold tracking-tight mb-4",children:"Parental Dashboard"}),(0,s.jsx)("p",{className:"text-neutral-400 text-lg mb-8 leading-relaxed",children:"Connect with your child's learning journey. Enter their ELORA code to see real-time progress, subject mastery, and AI-driven insights."}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,s.jsx)("input",{placeholder:"ELORA-XXXX",className:"bg-white/10 border-white/20 rounded-2xl px-6 py-4 outline-none focus:ring-2 focus:ring-primary-500/50 text-white font-mono tracking-widest",onKeyDown:e=>{"Enter"===e.key&&i(e.target.value)}}),(0,s.jsx)("button",{onClick:()=>i("DEMO"),className:"bg-primary-600 hover:bg-primary-700 text-white px-8 py-4 rounded-2xl font-bold transition-all shadow-premium-md",children:"Link Student"})]})]})]})}var g=a(1664),b=a.n(g);function PreviewBanner(){return(0,s.jsxs)(o.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-8 p-4 bg-primary-50 dark:bg-primary-500/10 border-premium border-primary-200 dark:border-primary-500/30 rounded-3xl flex flex-wrap items-center justify-between gap-4 shadow-premium-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-2xl bg-primary-600 flex items-center justify-center text-white text-lg shadow-premium-md",children:"✨"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-bold text-neutral-900 dark:text-neutral-50",children:"Experimental Mode"}),(0,s.jsx)("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Verify your identity to unlock deep academic tracking and live class sync."})]})]}),(0,s.jsx)(b(),{href:"/verify",className:"px-6 py-2.5 bg-primary-600 hover:bg-primary-700 text-white text-xs font-bold rounded-xl transition-all shadow-premium-md",children:"Verify Now"})]})}function DashboardPage(){let e=(0,n.useRouter)(),[t,a]=(0,i.useState)(null),[r,u]=(0,i.useState)(!0),[x,h]=(0,i.useState)("student"),[p,g]=(0,i.useState)(null),[b,v]=(0,i.useState)(!1),[f,j]=(0,i.useState)(!1),[y,w]=(0,i.useState)(!1),[N,k]=(0,i.useState)(null),[S,C]=(0,i.useState)(!1),[D,E]=(0,i.useState)(null);(0,i.useEffect)(()=>{v(!0);let sync=()=>{let e=(0,c.Gg)();a({...e})},t=(0,c.Gg)();if(!t||!t.email){e.push("/login");return}return a(t),j(!t.verified),"parent"===t.role?h("parent"):"educator"===t.role?h("teacher"):h("student"),u(!1),window.addEventListener("elora:session",sync),()=>window.removeEventListener("elora:session",sync)},[e]);let M=(0,i.useMemo)(()=>f&&t?function(e){let t={isDemo:!0,demoMessage:"This is preview data. Verify your account to access real features."};return"student"===e?{...t,joinedClasses:[{name:"Math 101 - Advanced Algebra",code:"DEMO01",subject:"Mathematics",level:"Grade 10",country:"United States",teacherName:"Ms. Johnson",locked:!0},{name:"Physics 201 - Mechanics",code:"DEMO02",subject:"Physics",level:"Grade 11",country:"United States",teacherName:"Mr. Smith",locked:!0},{name:"Chemistry - Organic Compounds",code:"DEMO03",subject:"Chemistry",level:"Grade 10",country:"United States",teacherName:"Dr. Lee",locked:!0}],assignments:[{id:"demo_a1",title:"Quadratic Equations Practice",description:"Solve problems using the quadratic formula",dueDate:"2026-02-15",classCode:"DEMO01",status:"pending",locked:!0},{id:"demo_a2",title:"Newton's Laws Lab Report",description:"Write a detailed analysis of the pendulum experiment",dueDate:"2026-02-18",classCode:"DEMO02",status:"pending",locked:!0},{id:"demo_a3",title:"Organic Molecules Research",description:"Research and present on three organic compounds",dueDate:"2026-02-20",classCode:"DEMO03",status:"submitted",locked:!0},{id:"demo_a4",title:"Algebra Word Problems",description:"Complete worksheet pages 45-50",dueDate:"2026-02-10",classCode:"DEMO01",status:"pending",locked:!0},{id:"demo_a5",title:"Bonding Types Quiz",description:"Review ionic, covalent, and metallic bonding",dueDate:"2026-02-12",classCode:"DEMO03",status:"pending",locked:!0}],stats:{totalAssignments:5,completedAssignments:1,avgScore:87,studyStreak:12}}:"teacher"===e?{...t,classes:[{id:"demo_c1",name:"Physics 101 - Morning Section",code:"DEMO_T1",subject:"Physics",level:"Grade 10",country:"United States",studentCount:24,locked:!0},{id:"demo_c2",name:"Physics 102 - Afternoon Section",code:"DEMO_T2",subject:"Physics",level:"Grade 10",country:"United States",studentCount:19,locked:!0}],students:[{name:"Emma Thompson",email:"emma.t@demo.com",class:"DEMO_T1",avgScore:92,locked:!0},{name:"Liam Chen",email:"liam.c@demo.com",class:"DEMO_T1",avgScore:88,locked:!0},{name:"Sophia Rodriguez",email:"sophia.r@demo.com",class:"DEMO_T1",avgScore:95,locked:!0},{name:"Noah Patel",email:"noah.p@demo.com",class:"DEMO_T1",avgScore:81,locked:!0},{name:"Olivia Williams",email:"olivia.w@demo.com",class:"DEMO_T1",avgScore:89,locked:!0},{name:"Ethan Brown",email:"ethan.b@demo.com",class:"DEMO_T2",avgScore:93,locked:!0},{name:"Ava Martinez",email:"ava.m@demo.com",class:"DEMO_T2",avgScore:87,locked:!0},{name:"Mason Davis",email:"mason.d@demo.com",class:"DEMO_T2",avgScore:90,locked:!0},{name:"Isabella Garcia",email:"isabella.g@demo.com",class:"DEMO_T2",avgScore:85,locked:!0},{name:"James Wilson",email:"james.w@demo.com",class:"DEMO_T2",avgScore:91,locked:!0},{name:"Charlotte Lee",email:"charlotte.l@demo.com",class:"DEMO_T1",avgScore:88,locked:!0},{name:"Benjamin Kim",email:"benjamin.k@demo.com",class:"DEMO_T1",avgScore:86,locked:!0},{name:"Amelia Anderson",email:"amelia.a@demo.com",class:"DEMO_T2",avgScore:94,locked:!0},{name:"Lucas Thomas",email:"lucas.t@demo.com",class:"DEMO_T2",avgScore:82,locked:!0},{name:"Mia Jackson",email:"mia.j@demo.com",class:"DEMO_T1",avgScore:90,locked:!0}],assignments:[{id:"demo_ta1",title:"Newton's Laws Practice",classCode:"DEMO_T1",dueDate:"2026-02-15",submissions:18,locked:!0},{id:"demo_ta2",title:"Energy Conservation Quiz",classCode:"DEMO_T2",dueDate:"2026-02-18",submissions:15,locked:!0}]}:"parent"===e?{...t,children:[{name:"Alex Johnson",grade:"Grade 10",classes:5,avgScore:89,recentActivity:"Submitted Physics Lab Report",locked:!0},{name:"Sarah Johnson",grade:"Grade 8",classes:6,avgScore:93,recentActivity:"Completed Math Quiz (95%)",locked:!0}]}:t}(t.role||"student"):null,[f,t]),A=(0,i.useMemo)(()=>t?function(e){var t,a,s;let r=!!(null==e?void 0:e.verified),l=(null==e?void 0:e.usage)||{};if(!r)return{name:"Future Scholar",streak:0,todayMinutes:0,overallProgress:12,recentTopics:[{name:"Algebra Foundations",progress:45,emoji:"\uD83D\uDD22"},{name:"Cell Biology",progress:20,emoji:"\uD83E\uDDEC"}],chartData:[5,12,8,20,15,25],achievements:[{title:"First Message",earned:!1},{title:"Focus Timer",earned:!1}],isPreview:!0};let i=Array.isArray(l.subjects)?l.subjects:[],n=Number(l.messagesSent)||0,o=Number(l.activeMinutes)||0,d=Number(l.streak)||0;return{name:(null==e?void 0:e.name)||(null==e?void 0:null===(t=e.email)||void 0===t?void 0:t.split("@")[0])||"Student",streak:d,todayMinutes:o,overallProgress:Math.min(100,5*n),recentTopics:i.length>0?i.map(e=>({name:String(e),progress:65,emoji:"\uD83D\uDCDA"})):[{name:"Getting Started",progress:0,emoji:"\uD83D\uDE80"}],chartData:[10,15,20,25,30,n+30],achievements:[{title:"First Message",earned:n>0},{title:"Focus Timer",earned:o>10}],resources:(null==e?void 0:null===(a=e.classroom)||void 0===a?void 0:a.resources)||[],quizzes:(null==e?void 0:null===(s=e.classroom)||void 0===s?void 0:s.quizzes)||[],isPreview:!1}}(t):null,[t]),P=(0,i.useMemo)(()=>t?function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=!(arguments.length>1)||void 0===arguments[1]||arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!a)return{avgEngagement:48,topSubject:"Advanced Calculus",totalHours:"156.0",heatmapData:[{subject:"Math",score:82,students:15},{subject:"Physics",score:68,students:12},{subject:"Chemistry",score:91,students:10},{subject:"English",score:75,students:20}],recommendedVideos:(0,m.$K)("Math","Newton's Second Law"),recommendationReason:"Demo: Newton's second law is a common struggle point.",isPreview:!0};let r=Array.isArray(t)?t:[];if(0===r.length)return{avgEngagement:0,topSubject:"N/A",totalHours:"0.0",heatmapData:[],recommendedVideos:[],vibe:"Focused",sentimentInsight:"Waiting for student activity."};let l=0,i=0,n={};r.forEach(e=>{var t,a,s;if(!e)return;l+=Number(null===(t=e.stats)||void 0===t?void 0:t.messagesSent)||0,i+=Number(null===(a=e.stats)||void 0===a?void 0:a.activeMinutes)||0;let r=Array.isArray(null===(s=e.stats)||void 0===s?void 0:s.subjects)?e.stats.subjects:[];r.forEach(e=>{e&&(n[e]=(n[e]||0)+1)})});let o=Object.entries(n),d=o.sort((e,t)=>t[1]-e[1])[0],c=o.map(e=>{let t=e[0],a=e[1];return{name:t,students:a,avg:s?75+(Math.floor(20*Math.random())-10):75}}),u=c.length>0?c.map(e=>({subject:e.name,score:e.avg,students:e.students})):[{subject:"Math",score:78,students:12},{subject:"Physics",score:65,students:8},{subject:"English",score:88,students:15}],x=u.find(e=>e.score<70),h=null==x?void 0:x.subject,p=(0,m.cK)(h,t.length),g=(0,m.$K)((null===(e=c[0])||void 0===e?void 0:e.name)||"math",h),b=h?"Confused":u.length>0&&u.reduce((e,t)=>e+t.score,0)/u.length>85?"Excited":"Focused",v=h?"".concat(Math.floor(.4*r.length)+1," students feeling ").concat(b.toLowerCase()," about ").concat(h,"."):"Class is generally ".concat(b.toLowerCase()," and maintaining momentum."),f=r.flatMap(e=>{var t;return(null===(t=e.classroom)||void 0===t?void 0:t.submissions)||[]}).sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp)),j=f.filter(e=>e.score/e.total<.7),y=null;if(j.length>=2){let e=j[0].quizTitle;y={topic:e,count:j.length,advice:"Elora detected a pattern: ".concat(j.length,' students are stalling on "').concat(e,'". Try a 5-minute visual analogy before the next quiz.')}}return{avgEngagement:Math.round(l/r.length),topSubject:d?d[0]:"General",totalHours:(r.length>0?i/60:0).toFixed(1),heatmapData:u,recommendedVideos:g,struggleTopic:h,coachingNote:y,recommendationReason:p,vibe:b,sentimentInsight:v,isPreview:!a}}(t.linkedStudents,t.verified,b):null,[t,b]),updateSessionAndSync=e=>{(0,c.Aj)(e),a({...e}),notify("Dashboard updated","success")};return r||!t?(0,s.jsx)("div",{className:"min-h-screen bg-white dark:bg-neutral-950 flex items-center justify-center",children:(0,s.jsx)(o.E.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1,ease:"linear"},className:"w-10 h-10 border-2 border-primary-600 border-t-transparent rounded-full"})}):(0,s.jsx)(ErrorBoundary,{children:(0,s.jsxs)(NotificationProvider,{children:[(0,s.jsx)(l(),{children:(0,s.jsx)("title",{children:"Elora | Intelligent Dashboard"})}),(0,s.jsxs)("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-950 transition-colors duration-500 pb-20",children:[(0,s.jsx)(DemoModeBanner,{isDemo:f}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-6 pt-12",children:[f&&(0,s.jsx)(PreviewBanner,{}),(0,s.jsx)("div",{className:"flex justify-center mb-12",children:(0,s.jsx)("div",{className:"bg-white dark:bg-neutral-900 p-1 rounded-2xl border-premium shadow-premium-sm flex gap-1",children:["student","parent","teacher"].filter(e=>"teacher"===e&&"educator"===t.role||e===t.role).map(e=>(0,s.jsxs)("button",{onClick:()=>h(e),className:"px-8 py-2.5 rounded-xl text-xs font-bold transition-all ".concat(x===e?"bg-neutral-900 dark:bg-neutral-50 text-white dark:text-neutral-900 shadow-premium-md":"text-neutral-400 hover:text-neutral-600 dark:hover:text-neutral-300"),children:[e.charAt(0).toUpperCase()+e.slice(1)," View"]},e))})}),(0,s.jsx)(d.M,{mode:"wait",children:(0,s.jsxs)(o.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.4,ease:[.23,1,.32,1]},children:["student"===x&&(0,s.jsx)(StudentModule,{data:A,session:t,onUpdateSession:updateSessionAndSync,isDemoMode:f,demoData:M,isSubmitting:y,setIsSubmitting:w,setActiveAssignment:k,onStartQuiz:t=>e.push("/assistant?quiz=".concat(t.id))}),"teacher"===x&&(0,s.jsx)(TeacherModule,{students:t.linkedStudents||[],metrics:P,session:t,onUpdateSession:updateSessionAndSync,isDemoMode:f,demoData:M,router:e}),"parent"===x&&(0,s.jsx)(ParentModule,{linkedStudentId:t.linkedStudentId,linkedData:p,onLinkStudent:e=>{let a={...t};a.linkedStudentId=e,updateSessionAndSync(a),g({name:"Alexander Smith",streak:12,todayMinutes:45,overallProgress:78,subjectBreakdown:[85,92,70,88],subjectLabels:["Math","Physics","English","History"],recentActivity:[{action:"Solved 'Quantum Entanglement' Problem Set",time:"2h ago"},{action:"Completed AI Strategy Session",time:"5h ago"}]})},onDisconnect:()=>{let e={...t};delete e.linkedStudentId,updateSessionAndSync(e),g(null)},isVerified:t.verified,session:t})]},x)})]}),(0,s.jsxs)(d.M,{children:[y&&(0,s.jsx)(SubmissionModal,{assignment:N,isOpen:y,onClose:()=>w(!1),onSubmit:()=>{notify("Submission received","success"),w(!1)}}),S&&(0,s.jsx)(GradingModal,{submission:D,assignment:N,isOpen:S,onClose:()=>C(!1),onSaveGrade:()=>{notify("Grade recorded","success"),C(!1)}})]})]})]})})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=1015)}),_N_E=e.O()}]);