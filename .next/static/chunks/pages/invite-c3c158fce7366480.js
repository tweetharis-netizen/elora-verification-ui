(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[273],{3807:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/invite",function(){return n(3066)}])},3066:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return Invite}});var t=n(5893),r=n(1163),a=n(7294),s=n(3833);function Invite(){let e=(0,r.useRouter)(),{code:i}=e.query,[n,l]=(0,a.useState)("Checking invite…"),[o,c]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let n=(Array.isArray(i)?i[0]:i)||"",t=String(n).trim();if(!t){l("Missing invite code. Ask the owner for a valid invite link."),c(!1);return}let r=!1;return async function(){try{l("Validating invite…");let i=await (0,s.e6)(t);if(r)return;if(null==i?void 0:i.ok){c(!0),l("Invite accepted. Teacher tools enabled."),setTimeout(()=>e.replace("/assistant"),650);return}if((null==i?void 0:i.error)==="not_verified"||(null==i?void 0:i.error)==="missing_session"){let i=(0,s.Gg)();i.pendingInvite=t,(0,s.Aj)(i),c(!1),l("Please verify your email first. We’ll apply the invite after verification."),setTimeout(()=>e.replace("/verify"),850);return}c(!1),l("Invalid invite code. Check your link or ask for a new one.")}catch(e){r||(c(!1),l("Could not validate invite. Try again later."))}}(),()=>{r=!0}},[i,e]),(0,t.jsx)("div",{className:"page",children:(0,t.jsx)("div",{className:"container",style:{paddingTop:120},children:(0,t.jsxs)("div",{className:"card",style:{padding:28,maxWidth:760},children:[(0,t.jsx)("h1",{style:{marginTop:0},children:o?"Invite accepted ✅":"Invite"}),(0,t.jsx)("p",{className:"muted",style:{marginBottom:0},children:n})]})})})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=3807)}),_N_E=e.O()}]);